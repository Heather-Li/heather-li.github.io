window.__require=function t(e,o,n){function c(i,s){if(!o[i]){if(!e[i]){var a=i.split("/");if(a=a[a.length-1],!e[a]){var l="function"==typeof __require&&__require;if(!s&&l)return l(a,!0);if(r)return r(a,!0);throw new Error("Cannot find module '"+i+"'")}i=a}var u=o[i]={exports:{}};e[i][0].call(u.exports,function(t){return c(e[i][1][t]||t)},u,u.exports,t,e,o,n)}return o[i].exports}for(var r="function"==typeof __require&&__require,i=0;i<n.length;i++)c(n[i]);return c}({BgControl1:[function(t,e,o){"use strict";cc._RF.push(e,"8a86aRahf5NQrWBmLhLgdxS","BgControl1");var n,c=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var c,r=arguments.length,i=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(c=t[s])&&(i=(r<3?c(i):r>3?c(e,o,i):c(e,o))||i);return r>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var i=t("./BirdControl"),s=cc._decorator,a=s.ccclass,l=s.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.speed=3,e.width=288,e.bird=null,e.isGameOver=!1,e}return c(e,t),e.prototype.start=function(){var t=this;cc.director.on("gameOver",function(){t.isGameOver=!0}),cc.director.on("gameRestart",function(){t.isGameOver=!1}),this.node.children.forEach(function(e){e.on(cc.Node.EventType.TOUCH_END,function(){t.isGameOver||t.bird.fly()})})},e.prototype.update=function(t){var e=this;this.isGameOver||this.node.children.forEach(function(o){o.x-=e.speed*t,o.x<=-e.width&&(o.x+=2*e.width)})},r([l],e.prototype,"speed",void 0),r([l],e.prototype,"width",void 0),r([l(i.default)],e.prototype,"bird",void 0),r([a],e)}(cc.Component);o.default=u,cc._RF.pop()},{"./BirdControl":"BirdControl"}],BgControl:[function(t,e,o){"use strict";cc._RF.push(e,"71bderqBH1H3Yj2tE9BRq/t","BgControl");var n,c=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var c,r=arguments.length,i=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(c=t[s])&&(i=(r<3?c(i):r>3?c(e,o,i):c(e,o))||i);return r>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var i=t("../enum"),s=t("../MusicsManager"),a=t("../utils"),l=cc._decorator,u=l.ccclass,p=l.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.gameOver=null,e.isPlayerDie=!1,e}return c(e,t),e.prototype.start=function(){var t=this;s.default.getInstance().playBgm(i.MusicResUrl.AirplaneBgm),cc.director.on("playerDie",function(){t.isPlayerDie=!0,t.gameOver.active=!0,s.default.getInstance().playEffect(i.MusicResUrl.GameOver)})},e.prototype.update=function(t){!this.isPlayerDie&&this.bgMove(t)},e.prototype.bgMove=function(t){for(var e=0,o=this.node.children;e<o.length;e++){var n=o[e];n.y-=50*t,n.y<=-850&&(n.y+=2550)}},e.prototype.onRestartClick=function(){this.gameOver.active=!1,this.isPlayerDie=!1,cc.director.emit("gameRestart")},e.prototype.onBackClick=function(){this.gameOver.active=!1,a.Utils.backFun()},r([p(cc.Node)],e.prototype,"gameOver",void 0),r([u],e)}(cc.Component);o.default=f,cc._RF.pop()},{"../MusicsManager":"MusicsManager","../enum":"enum","../utils":"utils"}],BirdControl:[function(t,e,o){"use strict";cc._RF.push(e,"abbd7HT/EJDkYTCQMf1FsSV","BirdControl");var n,c=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var c,r=arguments.length,i=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(c=t[s])&&(i=(r<3?c(i):r>3?c(e,o,i):c(e,o))||i);return r>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var i=t("../bowl/PhysicsManager"),s=t("../enum"),a=t("../MusicsManager"),l=t("../utils"),u=cc._decorator,p=u.ccclass,f=u.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.gameOver=null,e.startPos={x:0,y:0},e}return c(e,t),e.prototype.onLoad=function(){i.PhysicsManager.openPhysics()},e.prototype.start=function(){this.startPos={x:this.node.x,y:this.node.y}},e.prototype.fly=function(){this.getComponent(cc.RigidBody).linearVelocity=cc.v2(0,150),a.default.getInstance().playEffect(s.MusicResUrl.BirdFly)},e.prototype.onBeginContact=function(t,e,o){this.gameOver.active||(1===o.tag?a.default.getInstance().playEffect(s.MusicResUrl.BirdScore):(/pipe/.test(o.name)?a.default.getInstance().playEffect(s.MusicResUrl.BirdHit):a.default.getInstance().playEffect(s.MusicResUrl.BirdOver),this.toGameOver()))},e.prototype.toGameOver=function(){this.gameOver.active=!0,cc.director.emit("gameOver")},e.prototype.onRestartClick=function(){this.gameOver.active=!1,i.PhysicsManager.openPhysics(),cc.director.emit("gameRestart"),this.node.x=this.startPos.x,this.node.y=this.startPos.y},e.prototype.onBackClick=function(){this.gameOver.active=!1,l.Utils.backFun()},r([f(cc.Node)],e.prototype,"gameOver",void 0),r([p],e)}(cc.Component);o.default=h,cc._RF.pop()},{"../MusicsManager":"MusicsManager","../bowl/PhysicsManager":"PhysicsManager","../enum":"enum","../utils":"utils"}],BlocksLogin:[function(t,e,o){"use strict";cc._RF.push(e,"f424bbOwVdOKKI9ifNlltOQ","BlocksLogin");var n,c=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var c,r=arguments.length,i=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(c=t[s])&&(i=(r<3?c(i):r>3?c(e,o,i):c(e,o))||i);return r>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var i=t("../enum"),s=t("../MusicsManager"),a=cc._decorator,l=a.ccclass,u=a.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.hitCountLabel=null,e.scoresLabel=null,e.startBtn=null,e}return c(e,t),e.prototype.start=function(){this.checkHistory(),s.default.getInstance().playBgm(i.MusicResUrl.BlocksBgm);var t=cc.repeatForever(cc.sequence(cc.rotateBy(.3,4),cc.rotateBy(.6,-8),cc.rotateBy(.3,4),cc.delayTime(.5)));this.startBtn.runAction(t)},e.prototype.toMainScene=function(){cc.director.loadScene(i.SceneEnum.BlocksMain)},e.prototype.checkHistory=function(){var t=Number(cc.sys.localStorage.getItem("blocks-hitCount")||0),e=Number(cc.sys.localStorage.getItem("blocks-scores")||0);t>0&&(this.hitCountLabel.string="\u5386\u53f2\u6700\u9ad8\u8fde\u51fb\uff1a"+t,this.hitCountLabel.node.active=!0),e>0&&(this.scoresLabel.string="\u5386\u53f2\u6700\u9ad8\u5206\u6570\uff1a"+e,this.scoresLabel.node.active=!0)},r([u(cc.Label)],e.prototype,"hitCountLabel",void 0),r([u(cc.Label)],e.prototype,"scoresLabel",void 0),r([u(cc.Node)],e.prototype,"startBtn",void 0),r([l],e)}(cc.Component);o.default=p,cc._RF.pop()},{"../MusicsManager":"MusicsManager","../enum":"enum"}],BlocksMain:[function(t,e,o){"use strict";cc._RF.push(e,"aa574Cu9GRNC7G0pahsdxFW","BlocksMain");var n,c=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var c,r=arguments.length,i=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(c=t[s])&&(i=(r<3?c(i):r>3?c(e,o,i):c(e,o))||i);return r>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var i=t("../enum"),s=t("../MusicsManager"),a=t("./BlocksMgr"),l=cc._decorator,u=l.ccclass,p=l.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.gameOverNode=null,e.gameKuang=null,e.hpMgr=null,e.scoresLabel=null,e.blocksMgr=null,e.hp=0,e.scores=0,e.hitCount=0,e}return c(e,t),e.prototype.start=function(){this.gameStart()},e.prototype.playHit=function(){s.default.getInstance().playEffect(i.MusicResUrl.BlocksHit)},e.prototype.playOver=function(){s.default.getInstance().playEffect(i.MusicResUrl.BlocksOver)},e.prototype.playComb=function(){var t=this.hitCount;this.checkHistory("blocks-hitCount",t),t<0?t=0:t>5&&(t=5),s.default.getInstance().playEffect(i.MusicResUrl["BlocksCombo"+t])},e.prototype.openTouch=function(){this.gameKuang.on(cc.Node.EventType.TOUCH_END,this.touchEnd,this)},e.prototype.touchEnd=function(t){this.playHit();var e=this.gameKuang.convertToNodeSpaceAR(t.getLocation()),o=Math.ceil((325+e.x)/130),n=6-Math.ceil((325+e.y)/130);this.gameMain(o,n)},e.prototype.gameMain=function(t,e){var o=this.blocksMgr.blocksAddOne(t,e);o&&(this.upHpShow(-1),this.closeTouch(),this.blocksMgr.blocksCheckSameNum(t,e,o),this.blocksMgr.sameCount>=3?(this.hitCount+=1,this.blocksMgr.doCombAction(t,e)):(this.openTouch(),this.blocksMgr.cleanBooksAndCount(),this.hitCount=0),this.hp<=0&&(console.log("\u6e38\u620f\u7ed3\u675f"),this.gameOver()))},e.prototype.upHpShow=function(t){this.hp+=t,this.hp<0&&(this.hp=0),this.hp>5&&(this.hp=5);for(var e=0;e<5;e++)this.hpMgr.children[e].opacity=0;for(e=0;e<this.hp;e++)this.hpMgr.children[e].opacity=255},e.prototype.upScores=function(t,e){var o=this;this.scoresLabel.node.runAction(cc.sequence(cc.scaleTo(.1,1.2),cc.callFunc(function(){o.scores+=(e+1)*t,o.checkHistory("blocks-scores",o.scores),o.scoresLabel.string=o.scores+""}),cc.scaleTo(.1,1)))},e.prototype.closeTouch=function(){this.gameKuang.off(cc.Node.EventType.TOUCH_END,this.touchEnd,this)},e.prototype.checkHistory=function(t,e){e>Number(cc.sys.localStorage.getItem(t)||0)&&cc.sys.localStorage.setItem(t,e+"")},e.prototype.gameOver=function(){this.playOver(),this.gameOverNode.active=!0},e.prototype.gameStart=function(){this.gameOverNode.active=!1,this.hp=5,this.scores=0,this.upHpShow(0),this.scoresLabel.string=this.scores+"",this.openTouch(),this.blocksMgr.start()},e.prototype.toLogin=function(){cc.director.loadScene(i.SceneEnum.BlocksLogin)},r([p(cc.Node)],e.prototype,"gameOverNode",void 0),r([p(cc.Node)],e.prototype,"gameKuang",void 0),r([p(cc.Node)],e.prototype,"hpMgr",void 0),r([p(cc.Label)],e.prototype,"scoresLabel",void 0),r([p(a.default)],e.prototype,"blocksMgr",void 0),r([u],e)}(cc.Component);o.default=f,cc._RF.pop()},{"../MusicsManager":"MusicsManager","../enum":"enum","./BlocksMgr":"BlocksMgr"}],BlocksMgr:[function(t,e,o){"use strict";cc._RF.push(e,"b83b6Xe3RZGP55TJ1wq+0+U","BlocksMgr");var n,c=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var c,r=arguments.length,i=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(c=t[s])&&(i=(r<3?c(i):r>3?c(e,o,i):c(e,o))||i);return r>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var i=t("./BlocksMain"),s=cc._decorator,a=s.ccclass,l=s.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.blocksMainNode=null,e.block=null,e.blocksImg=[],e.blocksNum=[],e.blocksNode=[],e.books=[],e.pool=new cc.NodePool,e.sameCount=0,e.blocksMain=null,e}return c(e,t),e.prototype.onLoad=function(){this.blocksMain=this.blocksMainNode.getComponent(i.default)},e.prototype.init=function(){this.blocksNum=[],this.blocksNode=[],this.books=[];for(var t=0;t<7;t++){this.blocksNum[t]=[],this.blocksNode[t]=[],this.books[t]=[];for(var e=0;e<7;e++)this.blocksNum[t][e]=null,this.blocksNode[t][e]=null,this.books[t][e]=0}for(this.pool=new cc.NodePool,t=0;t<30;t++)this.pool.put(cc.instantiate(this.block))},e.prototype.start=function(){this.init(),this.createBlocks()},e.prototype.createBlocks=function(){for(var t=1;t<6;t++)for(var e=1;e<6;e++){var o=this.getBlockPositionAndNum(t,e),n=o.x,c=o.y,r=o.num,i=this.createBlock(n,c,r);this.blocksNum[e][t]=r,this.blocksNode[e][t]=i}},e.prototype.getBlockPositionAndNum=function(t,e){for(var o=130*(t-1)+65-325,n=130*(5-e)+65-325,c=this.randomNum(0,4),r=this.blocksNum[e][t-1],i=this.blocksNum[e][t+1],s=this.blocksNum[e-1][t],a=this.blocksNum[e+1][t];c===r||c===i||c===s||c===a;)c=this.randomNum(0,4);return{x:o,y:n,num:c}},e.prototype.createBlock=function(t,e,o){0===this.pool.size()&&this.pool.put(cc.instantiate(this.block));var n=this.pool.get();return n.parent=this.node,n.setPosition(t,e),n.getComponent(cc.Sprite).spriteFrame=this.blocksImg[o],n},e.prototype.randomNum=function(t,e){return Math.floor(Math.random()*(e-t+1)+t)},e.prototype.blocksAddOne=function(t,e){var o=this.blocksNum[e][t]+1;return o>=9&&(o=9),this.blocksNum[e][t]=o,this.blocksNode[e][t].getComponent(cc.Sprite).spriteFrame=this.blocksImg[o],o},e.prototype.blocksCheckSameNum=function(t,e,o){for(var n=[[0,1],[0,-1],[-1,0],[1,0]],c=0;c<n.length;c++){var r=t+n[c][1],i=e+n[c][0];this.blocksNum[i][r]===o&&0===this.books[i][r]&&(this.sameCount+=1,this.books[i][r]=1,this.blocksCheckSameNum(r,i,o))}},e.prototype.doCombAction=function(t,e){for(var o=this,n=function(n){for(var r=function(r){1!==c.books[n][r]||t===r&&e===n&&9!==c.blocksNum[e][t]||c.blocksNode[n][r].runAction(cc.sequence(cc.scaleTo(.1,0),cc.callFunc(function(){o.pool.put(o.blocksNode[n][r]),o.blocksNum[n][r]=null,o.blocksNode[n][r]=null})))},i=1;i<6;i++)r(i)},c=this,r=1;r<6;r++)n(r);9!==this.blocksNum[e][t]&&this.blocksNode[e][t].runAction(cc.sequence(cc.scaleTo(.1,1.2),cc.scaleTo(.1,1),cc.callFunc(function(){o.blocksAddOne(t,e),o.blocksDownAndFill()}))),this.blocksMain.playComb(),this.blocksMain.upHpShow(1),this.blocksMain.upScores(this.sameCount,this.blocksNum[e][t])},e.prototype.blocksDownAndFill=function(){for(var t=this,e=5;e>0;e--){for(var o=0,n=5;n>0;n--)null===this.blocksNode[n][e]?o+=1:o>0&&this.blockDownAction(n,e,o);o>0&&this.fillBlocks(o,e)}this.scheduleOnce(function(){t.cleanBooksAndCount(),t.checkAllBlocksSameNum()},.5)},e.prototype.blockDownAction=function(t,e,o){var n=this;this.blocksNode[t][e].runAction(cc.sequence(cc.moveBy(.1,cc.v2(0,-130*o)),cc.callFunc(function(){n.blocksNode[t+o][e]=n.blocksNode[t][e],n.blocksNum[t+o][e]=n.blocksNum[t][e],n.blocksNum[t][e]=null,n.blocksNode[t][e]=null})))},e.prototype.fillBlocks=function(t,e){for(var o=this,n=function(t){c.scheduleOnce(function(){var n=o.getBlockPositionAndNum(e,t),c=n.x,r=n.y,i=n.num;o.blocksNum[t][e]=i,o.blocksNode[t][e]=o.createBlock(c,r,i),o.blocksNode[t][e].scale=0,o.blocksNode[t][e].runAction(cc.scaleTo(.1,1))},.3)},c=this,r=t;r>0;r--)n(r)},e.prototype.checkAllBlocksSameNum=function(){for(var t=!0,e=5;e>0;e--)for(var o=5;o>0&&t;o--)this.blocksCheckSameNum(e,o,this.blocksNum[o][e]),this.sameCount>=3?(this.doCombAction(e,o),this.blocksMain.playComb(),t=!1):this.cleanBooksAndCount();this.blocksMain.openTouch()},e.prototype.cleanBooksAndCount=function(){this.sameCount=0;for(var t=1;t<6;t++)for(var e=1;e<6;e++)this.books[t][e]=0},r([l(cc.Node)],e.prototype,"blocksMainNode",void 0),r([l(cc.Prefab)],e.prototype,"block",void 0),r([l({type:[cc.SpriteFrame]})],e.prototype,"blocksImg",void 0),r([a],e)}(cc.Component);o.default=u,cc._RF.pop()},{"./BlocksMain":"BlocksMain"}],BulletsControl:[function(t,e,o){"use strict";cc._RF.push(e,"5c440XrPe1FxrB9zRbxltgs","BulletsControl");var n,c=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var c,r=arguments.length,i=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(c=t[s])&&(i=(r<3?c(i):r>3?c(e,o,i):c(e,o))||i);return r>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var i=t("./EnemyControl"),s=cc._decorator,a=s.ccclass,l=s.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.speed=800,e.pool=null,e}return c(e,t),e.prototype.reuse=function(t){this.pool=t,this.node.active=!0},e.prototype.start=function(){},e.prototype.update=function(t){this.node.y+=this.speed*t,this.node.y>820&&this.returnToPool()},e.prototype.onCollisionEnter=function(t){1===t.tag&&(t.getComponent(i.default).die(),this.returnToPool())},e.prototype.returnToPool=function(){this.pool?(this.node.active=!1,this.pool.put(this.node)):this.node.destroy()},r([l],e.prototype,"speed",void 0),r([a],e)}(cc.Component);o.default=u,cc._RF.pop()},{"./EnemyControl":"EnemyControl"}],ComponentBase:[function(t,e,o){"use strict";cc._RF.push(e,"1a0d7V2sz5Azr1JlOWi0diA","ComponentBase");var n,c=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return c(e,t),e}(cc.Component);o.default=r,cc._RF.pop()},{}],ControlPanel:[function(t,e,o){"use strict";cc._RF.push(e,"91efazQvttEZ6rYam/VTL3i","ControlPanel");var n,c=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var c,r=arguments.length,i=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(c=t[s])&&(i=(r<3?c(i):r>3?c(e,o,i):c(e,o))||i);return r>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var i=t("./UIBase"),s=t("../../utils/Utils"),a=cc._decorator,l=a.ccclass,u=a.property,p=cc.Node.EventType,f=p.TOUCH_START,h=p.TOUCH_END,d=p.TOUCH_CANCEL,y=p.TOUCH_MOVE,v=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.joyStick=null,e.joyStickBg=null,e.leftBtn=null,e.rightBtn=null,e.downBtn=null,e.leftOpen=!1,e.rightOpen=!1,e.downOpen=!1,e}return c(e,t),e.prototype.start=function(){this.addActionEvents(),this.addJoyStickEvents()},e.prototype.init=function(t){this.uiManager=t},e.prototype.addActionEvents=function(){var t=this;this.leftBtn.on(f,this.leftBtnTouchStart,this),this.leftBtn.on(h,this.leftBtnTouchEnd,this),this.leftBtn.on(d,function(){return t.leftBtnTouchEnd},this),this.rightBtn.on(f,this.rightBtnTouchStart,this),this.rightBtn.on(h,this.rightBtnTouchEnd,this),this.rightBtn.on(d,this.rightBtnTouchEnd,this),this.downBtn.on(f,this.downBtnTouchStart,this),this.downBtn.on(h,this.downBtnTouchEnd,this),this.downBtn.on(d,this.downBtnTouchEnd,this)},e.prototype.leftBtnTouchStart=function(){s.default.clickDownBtnAction(this.leftBtn),this.leftOpen=!0},e.prototype.leftBtnTouchEnd=function(){s.default.clickUpBtnAction(this.leftBtn),this.leftOpen=!1},e.prototype.rightBtnTouchStart=function(){s.default.clickDownBtnAction(this.rightBtn),this.rightOpen=!0},e.prototype.rightBtnTouchEnd=function(){s.default.clickUpBtnAction(this.rightBtn),this.rightOpen=!1},e.prototype.downBtnTouchStart=function(){s.default.clickDownBtnAction(this.downBtn),this.downOpen=!0},e.prototype.downBtnTouchEnd=function(){s.default.clickUpBtnAction(this.downBtn),this.downOpen=!1},e.prototype.addJoyStickEvents=function(){this.joyStickBg.on(f,this.joyStickTouchMove,this),this.joyStickBg.on(y,this.joyStickTouchMove,this),this.joyStickBg.on(h,this.joyStickTouchEnd,this),this.joyStickBg.on(d,this.joyStickTouchCancel,this)},e.prototype.joyStickTouchMove=function(t){console.log("touch move",t);var e=this.joyStickBg.convertToNodeSpaceAR(t.getLocation()),o=e.len(),n=e.normalize(),c=e.x,r=e.y;o>this.joyStickBg.width/2&&(c=n.x*this.joyStickBg.width/2,r=n.y*this.joyStickBg.width/2),this.joyStick.setPosition(c,r);var i=cc.misc.radiansToDegrees(Math.atan2(r,c));this.uiManager.onRotateFood(i)},e.prototype.joyStickTouchEnd=function(){this.joyStick.setPosition(0,0)},e.prototype.joyStickTouchCancel=function(){this.joyStick.setPosition(0,0)},e.prototype.update=function(t){this.leftOpen&&this.uiManager.onLeftFood(t),this.rightOpen&&this.uiManager.onRightFood(t),this.downOpen&&this.uiManager.onDownFood(t)},r([u(cc.Node)],e.prototype,"joyStick",void 0),r([u(cc.Node)],e.prototype,"joyStickBg",void 0),r([u(cc.Node)],e.prototype,"leftBtn",void 0),r([u(cc.Node)],e.prototype,"rightBtn",void 0),r([u(cc.Node)],e.prototype,"downBtn",void 0),r([l],e)}(i.default);o.default=v,cc._RF.pop()},{"../../utils/Utils":"Utils","./UIBase":"UIBase"}],DieState:[function(t,e,o){"use strict";cc._RF.push(e,"6e9c5tCbzpJQrSeYLGzGHiz","DieState");var n,c=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.speed=100,e}return c(e,t),e.prototype.onEnter=function(){var t=this;this.component.getComponent(cc.Animation).play("duckDie"),this.component.node.stopAllActions(),this.component.node.off(cc.Node.EventType.TOUCH_START);var e=cc.moveTo(this.component.node.y/(2*this.speed),new cc.Vec2(this.component.node.x,0)),o=cc.sequence(e,cc.callFunc(function(){t.component.node.destroy()}));this.component.node.runAction(o)},e.prototype.onUpdate=function(){},e}(t("../../FSM/FSMState").default);o.default=r,cc._RF.pop()},{"../../FSM/FSMState":"FSMState"}],DuckControl:[function(t,e,o){"use strict";cc._RF.push(e,"f703cvBoddIfpCHH4lDk1re","DuckControl");var n,c=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var c,r=arguments.length,i=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(c=t[s])&&(i=(r<3?c(i):r>3?c(e,o,i):c(e,o))||i);return r>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var i,s=t("../enum"),a=t("../FSM/FSMMananger"),l=t("../mitt/ComponentBase"),u=t("../mitt/Message"),p=t("../mitt/MessageCenter"),f=t("../MusicsManager"),h=t("./state/DieState"),d=t("./state/FlyState"),y=cc._decorator,v=y.ccclass,_=y.property;(function(t){t[t.FLY=0]="FLY",t[t.DIE=1]="DIE"})(i||(i={}));var g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.hp=1,e.attack=1,e.duckFsmMananger=null,e}return c(e,t),e.prototype.ReceiveMessage=function(){},e.prototype.onLoad=function(){this.duckFsmMananger=new a.default;var t=new d.default(i.FLY,this,this.duckFsmMananger);this.duckFsmMananger.register(t);var e=new h.default(i.DIE,this,this.duckFsmMananger);this.duckFsmMananger.register(e)},e.prototype.start=function(){var t=this;this.fly(),this.node.on(cc.Node.EventType.TOUCH_START,function(){t.hp>0&&(t.hp-=t.attack,t.hp<=0&&(t.hp=0,t.die(),p.default.SendMsg(u.MessageType.UI,u.MessageType.UI_SCORES,{type:"add",value:100})))})},e.prototype.fly=function(){f.default.getInstance().playEffect(s.MusicResUrl.DuckFly),this.duckFsmMananger.changeState(i.FLY)},e.prototype.die=function(){f.default.getInstance().playEffect(s.MusicResUrl.DuckDie),this.duckFsmMananger.changeState(i.DIE)},e.prototype.update=function(){this.duckFsmMananger.currentIndex>-1&&this.duckFsmMananger.onUpdate()},r([_],e.prototype,"hp",void 0),r([_],e.prototype,"attack",void 0),r([v],e)}(l.default);o.default=g,cc._RF.pop()},{"../FSM/FSMMananger":"FSMMananger","../MusicsManager":"MusicsManager","../enum":"enum","../mitt/ComponentBase":"ComponentBase","../mitt/Message":"Message","../mitt/MessageCenter":"MessageCenter","./state/DieState":"DieState","./state/FlyState":"FlyState"}],DuckMananger:[function(t,e,o){"use strict";cc._RF.push(e,"8e4726puTxJc4XVsYCjtnxP","DuckMananger");var n,c=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var c,r=arguments.length,i=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(c=t[s])&&(i=(r<3?c(i):r>3?c(e,o,i):c(e,o))||i);return r>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var i=t("../mitt/Message"),s=t("../mitt/MessageBase"),a=t("../mitt/MessageCenter"),l=t("./DuckControl"),u=cc._decorator,p=u.ccclass,f=u.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.SelfMessageType=i.MessageType.ENEMY,e.duckPre=null,e.gamePlance=null,e}return c(e,t),e.prototype.start=function(){this.gamePlance.getChildByName("gameOver").active=!1,this.gamePlance.active=!0,this.gamePlance.getChildByName("gameStart").active=!0},e.prototype.startGame=function(){this.gamePlance.active=!1,this.init(),a.default.SendMsg(i.MessageType.UI,i.MessageType.UI_SCORES,{type:"value",value:0})},e.prototype.gameOver=function(){this.gamePlance.getChildByName("gameStart").active=!1,this.gamePlance.active=!0,this.gamePlance.getChildByName("gameOver").active=!0},e.prototype.init=function(){var t=this;this.node.runAction(cc.repeatForever(cc.sequence(cc.delayTime(1),cc.callFunc(function(){var e=new cc.Vec2(1280*Math.random()-640,0),o=cc.instantiate(t.duckPre);o.getComponent(l.default).duckRunAway=function(){t.duckRunAway()},o.setParent(t.node),o.setPosition(e)}))))},e.prototype.duckRunAway=function(){this.node.stopAllActions(),this.node.destroyAllChildren(),this.gameOver()},r([f(cc.Prefab)],e.prototype,"duckPre",void 0),r([f(cc.Node)],e.prototype,"gamePlance",void 0),r([p],e)}(s.default);o.default=h,cc._RF.pop()},{"../mitt/Message":"Message","../mitt/MessageBase":"MessageBase","../mitt/MessageCenter":"MessageCenter","./DuckControl":"DuckControl"}],EnemyControl:[function(t,e,o){"use strict";cc._RF.push(e,"b5decflhopGWbiUX3GwlX2j","EnemyControl");var n,c=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var c,r=arguments.length,i=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(c=t[s])&&(i=(r<3?c(i):r>3?c(e,o,i):c(e,o))||i);return r>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var i=t("../enum"),s=t("../MusicsManager"),a=cc._decorator,l=a.ccclass,u=a.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.speed=300,e.isDie=!1,e.pool=null,e.sp1=null,e.sp2=null,e}return c(e,t),e.prototype.reuse=function(t){this.pool=t,this.isDie=!1,this.node.active=!0},e.prototype.start=function(){var t=this;this.sp1=this.node.getComponent(cc.Sprite).spriteFrame,cc.director.on("playerDie",function(){t.returnToPool()})},e.prototype.update=function(t){this.isDie||(this.node.y-=this.speed*t),this.node.y<-850&&this.returnToPool()},e.prototype.die=function(){var t=this;s.default.getInstance().playEffect(i.MusicResUrl.AirplaneEnemy),this.isDie=!0,this.sp2?this.node.getComponent(cc.Sprite).spriteFrame=this.sp2:cc.loader.loadRes("airplane/enemy0_die",cc.SpriteFrame,function(e,o){t.sp2=o,t.node.getComponent(cc.Sprite).spriteFrame=o}),setTimeout(function(){t.returnToPool()},300)},e.prototype.onCollisionEnter=function(t){0===t.tag&&this.die()},e.prototype.returnToPool=function(){this.pool?(this.node.active=!1,this.node.getComponent(cc.Sprite).spriteFrame=this.sp1,this.pool.put(this.node)):this.node.destroy()},r([u],e.prototype,"speed",void 0),r([l],e)}(cc.Component);o.default=p,cc._RF.pop()},{"../MusicsManager":"MusicsManager","../enum":"enum"}],EnemyManager:[function(t,e,o){"use strict";cc._RF.push(e,"f5cacMpWa9Bya2yJd1SwNhD","EnemyManager");var n,c=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var c,r=arguments.length,i=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(c=t[s])&&(i=(r<3?c(i):r>3?c(e,o,i):c(e,o))||i);return r>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,s=i.ccclass,a=i.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.enemyPre=null,e.enemyPool=null,e}return c(e,t),e.prototype.onLoad=function(){this.enemyPool=new cc.NodePool;for(var t=0;t<10;t++)this.enemyPool.put(cc.instantiate(this.enemyPre))},e.prototype.start=function(){var t=this;this.schedule(this.enemyCreateShedule,2),cc.director.on("playerDie",function(){t.unschedule(t.enemyCreateShedule)}),cc.director.on("gameRestart",function(){t.schedule(t.enemyCreateShedule,2)})},e.prototype.enemyCreateShedule=function(){var t=null;this.enemyPool.size()>0?(t=this.enemyPool.get()).getComponent("EnemyControl").reuse(this.enemyPool):t=cc.instantiate(this.enemyPre),t.setParent(this.node.parent),t.y=this.node.y+this.node.parent.height/2,t.x=Math.random()*this.node.parent.width-this.node.parent.width/2},r([a(cc.Prefab)],e.prototype,"enemyPre",void 0),r([s],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],FSMMananger:[function(t,e,o){"use strict";cc._RF.push(e,"a4ffc/f+xxJ1555G/Ze7z4i","FSMMananger"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function t(){this.fsmStateList=[],this.currentIndex=-1}return t.prototype.register=function(t){this.fsmStateList.push(t)},t.prototype.changeState=function(t){this.currentIndex=t,this.fsmStateList[t].onEnter()},t.prototype.onUpdate=function(){this.currentIndex>-1&&this.fsmStateList[this.currentIndex].onUpdate()},t}();o.default=n,cc._RF.pop()},{}],FSMState:[function(t,e,o){"use strict";cc._RF.push(e,"c6e24e1GslAcK9uyTSTrnTp","FSMState"),Object.defineProperty(o,"__esModule",{value:!0});o.default=function(t,e,o){this.stateId=t,this.component=e,this.fsmMananger=o},cc._RF.pop()},{}],FlyState:[function(t,e,o){"use strict";cc._RF.push(e,"750f7GBsA1J9I9iZne2jMjW","FlyState");var n,c=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=t("../../FSM/FSMState"),i=t("../DuckControl"),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.speed=100,e.targetPos=null,e}return c(e,t),e.prototype.onEnter=function(){var t=this;this.component.getComponent(cc.Animation).play("duckFly"),this.targetPos=new cc.Vec2(1280*Math.random()-640,720),this.targetPos.x>this.component.node.x&&(this.component.node.scaleX=-1);var e=cc.moveTo((this.targetPos.y-this.component.node.y)/this.speed,this.targetPos),o=cc.sequence(e,cc.callFunc(function(){t.component.getComponent(i.default).duckRunAway(),t.component.node.destroy()}));this.component.node.runAction(o)},e.prototype.onUpdate=function(){},e}(r.default);o.default=s,cc._RF.pop()},{"../../FSM/FSMState":"FSMState","../DuckControl":"DuckControl"}],GameManager:[function(t,e,o){"use strict";cc._RF.push(e,"91457/mCZxK45hULQj5iBWM","GameManager");var n,c=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var c,r=arguments.length,i=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(c=t[s])&&(i=(r<3?c(i):r>3?c(e,o,i):c(e,o))||i);return r>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var i=t("../enum"),s=t("../MusicsManager"),a=t("./PhysicsManager"),l=t("./StaticInstance"),u=t("./type"),p=cc._decorator,f=p.ccclass,h=p.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bowl=null,e.bowlSprite1=null,e.bowlSprite2=null,e.levelsData=null,e.foodPres=[],e.foodRoot=null,e.speed=100,e.downSpeed=-5,e.currentLevelData={levelIndex:-1,level:null,node:null,index:-1},e.time=0,e.gameState=u.GameState.Redy,e.ui_half_width=0,e.ui_height=0,e.levels=[],e}return c(e,t),Object.defineProperty(e.prototype,"allFoodStop",{get:function(){for(var t=0;t<this.foodRoot.childrenCount;t++)if(!this.foodRoot.children[t].getComponent(cc.RigidBody).linearVelocity.fuzzyEquals(cc.Vec2.ZERO,.1))return!1;return!0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"someBodyStatic",{get:function(){for(var t=0;t<this.foodRoot.childrenCount;t++)if(this.foodRoot.children[t].getComponent(cc.RigidBody).type===cc.RigidBodyType.Static)return!0;return!1},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){l.default.setGameManager(this),a.PhysicsManager.openPhysics(),this.levels=this.levelsData.json||[],s.default.getInstance().playBgm()},e.prototype.showBowl=function(){var t=this;this.bowl.active=!0,this.bowl.stopAllActions(),cc.tween(this.bowl).delay(2).call(function(){t.bowl.getComponent(cc.Sprite).spriteFrame=t.bowlSprite2}).delay(.3).call(function(){t.bowl.getComponent(cc.Sprite).spriteFrame=t.bowlSprite1}).union().repeatForever().start()},e.prototype.hideBowl=function(){this.bowl.active=!1},e.prototype.gameStart=function(t,e){void 0===e&&(e=0),t||(e=this.getMaxLevel(),t=this.levels[e]),this.showBowl(),this.currentLevelData.levelIndex=e,this.currentLevelData.index=-1,this.currentLevelData.level=t,this.addFood(),this.gameState=u.GameState.Playing},e.prototype.addFood=function(){if(this.currentLevelData.index++,this.currentLevelData.index<this.currentLevelData.level.foods.length){var t=this.currentLevelData.level.foods,e=this.currentLevelData.index,o=cc.instantiate(this.foodPres[t[e]]);this.foodRoot.addChild(o),a.PhysicsManager.setRigidBodyStatic(o),o.setPosition(0,450),this.currentLevelData.node=o,this.updateLevelData()}this.currentLevelData.index===this.currentLevelData.level.foods.length&&this.gameWin()},e.prototype.updateLevelData=function(){l.default.uIManager.setLevelData(this.currentLevelData.level,this.currentLevelData.index+1)},e.prototype.onRotateFood=function(t){this.currentLevelData.node&&(this.currentLevelData.node.angle=t)},e.prototype.onLeftFood=function(t){this.currentLevelData.node&&(this.currentLevelData.node.x-=t*this.speed,this.currentLevelData.node.x<=-this.ui_half_width&&(this.currentLevelData.node.x=-this.ui_half_width))},e.prototype.onRightFood=function(t){this.currentLevelData.node&&(this.currentLevelData.node.x+=t*this.speed,this.currentLevelData.node.x>=this.ui_half_width&&(this.currentLevelData.node.x=this.ui_half_width))},e.prototype.onDownFood=function(t){this.currentLevelData.node&&(a.PhysicsManager.setRigidBodyDynamic(this.currentLevelData.node),a.PhysicsManager.setRigidBodyLV(this.currentLevelData.node,cc.v2(0,-this.downSpeed*t)),this.currentLevelData.node=null)},e.prototype.clearAllFoods=function(){this.foodRoot.removeAllChildren()},e.prototype.start=function(){this.ui_half_width=l.default.uIManager.node.width/2,this.ui_height=l.default.uIManager.node.height},e.prototype.update=function(t){this.gameState===u.GameState.Playing&&this.currentLevelData.level&&this.currentLevelData.index<this.currentLevelData.level.foods.length&&(this.time+=t,this.time>.2&&(this.checkRigidBody(),this.checkFall(),this.time=0))},e.prototype.checkRigidBody=function(){this.allFoodStop&&!this.someBodyStatic&&this.addFood()},e.prototype.checkFall=function(){for(var t=0;t<this.foodRoot.childrenCount;t++){var e=this.foodRoot.children[t];if(e.y<this.bowl.y-e.height)return e.destroy(),this.gameOver(),!1}},e.prototype.gameOver=function(){s.default.getInstance().playEffect(i.MusicResUrl.GameOver),this.gameState=u.GameState.GameOver,l.default.uIManager.toGameOverPanel()},e.prototype.gameWin=function(){this.gameState=u.GameState.Win;var t=this.getMaxLevel();t<=this.currentLevelData.levelIndex&&cc.sys.localStorage.setItem("maxLevel",this.currentLevelData.levelIndex+1+""),t>=this.levels.length-1&&l.default.uIManager.hideNextLevelBtn(),l.default.uIManager.toWinPanel(),s.default.getInstance().playEffect(i.MusicResUrl.Win)},e.prototype.toNextLevel=function(){this.clearAllFoods();var t=this.levels[this.currentLevelData.levelIndex+1];l.default.uIManager.gameStart(t,this.currentLevelData.levelIndex+1)},e.prototype.toPlayAgainLevel=function(){this.clearAllFoods(),l.default.uIManager.gameStart(this.currentLevelData.level,this.currentLevelData.levelIndex)},e.prototype.getMaxLevel=function(){return Number(cc.sys.localStorage.getItem("maxLevel")||"0")},r([h(cc.Node)],e.prototype,"bowl",void 0),r([h(cc.SpriteFrame)],e.prototype,"bowlSprite1",void 0),r([h(cc.SpriteFrame)],e.prototype,"bowlSprite2",void 0),r([h({type:cc.JsonAsset,displayName:"\u5173\u5361\u5217\u8868"})],e.prototype,"levelsData",void 0),r([h({type:cc.Prefab,displayName:"\u98df\u7269\u9884\u5236\u4f53"})],e.prototype,"foodPres",void 0),r([h(cc.Node)],e.prototype,"foodRoot",void 0),r([f],e)}(cc.Component);o.default=d,cc._RF.pop()},{"../MusicsManager":"MusicsManager","../enum":"enum","./PhysicsManager":"PhysicsManager","./StaticInstance":"StaticInstance","./type":"type"}],GameOverPanel:[function(t,e,o){"use strict";cc._RF.push(e,"2f98bd0a4ZJEqVAAxA2yn0c","GameOverPanel");var n,c=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var c,r=arguments.length,i=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(c=t[s])&&(i=(r<3?c(i):r>3?c(e,o,i):c(e,o))||i);return r>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var i=t("../../utils/Utils"),s=t("./UIBase"),a=cc._decorator,l=a.ccclass,u=a.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.backStartMenuBtn=null,e.playAgainBtn=null,e.uiManager=null,e}return c(e,t),e.prototype.start=function(){},e.prototype.init=function(e){var o=this;t.prototype.init.call(this),this.uiManager=e,this.node.children[0].getComponent(cc.Widget).target=e.node;var n=cc.Node.EventType,c=n.TOUCH_START,r=n.TOUCH_END,s=n.TOUCH_CANCEL;this.backStartMenuBtn.on(c,this.backStartMenuBtnTouchStart,this),this.backStartMenuBtn.on(r,this.backStartMenuBtnTouchEnd,this),this.backStartMenuBtn.on(r,function(){return i.default.clickUpBtnAction(o.backStartMenuBtn)},this),this.playAgainBtn.on(c,this.playAgainBtnTouchStart,this),this.playAgainBtn.on(r,this.playAgainBtnTouchEnd,this),this.playAgainBtn.on(s,function(){return i.default.clickUpBtnAction(o.playAgainBtn)},this)},e.prototype.backStartMenuBtnTouchStart=function(){i.default.clickDownBtnAction(this.backStartMenuBtn)},e.prototype.backStartMenuBtnTouchEnd=function(){var t=this;i.default.clickUpBtnAction(this.backStartMenuBtn,function(){t.uiManager.toStartMenu()})},e.prototype.playAgainBtnTouchStart=function(){i.default.clickDownBtnAction(this.playAgainBtn)},e.prototype.playAgainBtnTouchEnd=function(){var t=this;i.default.clickUpBtnAction(this.playAgainBtn,function(){t.uiManager.toPlayAgainLevel()})},r([u(cc.Node)],e.prototype,"backStartMenuBtn",void 0),r([u(cc.Node)],e.prototype,"playAgainBtn",void 0),r([l],e)}(s.default);o.default=p,cc._RF.pop()},{"../../utils/Utils":"Utils","./UIBase":"UIBase"}],Input:[function(t,e,o){"use strict";cc._RF.push(e,"f01ebDyleVG+aaRHSdBWy9S","Input"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function t(){var t=this;this.horizontal=0,this.vertical=0,cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,function(e){e.keyCode===cc.macro.KEY.a?t.horizontal=-1:e.keyCode===cc.macro.KEY.d&&(t.horizontal=1),e.keyCode===cc.macro.KEY.w?t.vertical=1:e.keyCode===cc.macro.KEY.s&&(t.vertical=-1)}),cc.systemEvent.on(cc.SystemEvent.EventType.KEY_UP,function(e){e.keyCode===cc.macro.KEY.a&&-1===t.horizontal?t.horizontal=0:e.keyCode===cc.macro.KEY.d&&1===t.horizontal&&(t.horizontal=0),e.keyCode===cc.macro.KEY.w&&1===t.vertical?t.vertical=0:e.keyCode===cc.macro.KEY.s&&-1===t.vertical&&(t.vertical=0)})}return Object.defineProperty(t,"Instance",{get:function(){return null===this.instance&&(this.instance=new t),this.instance},enumerable:!1,configurable:!0}),t.instance=null,t}();o.default=n,cc._RF.pop()},{}],LevelInfo:[function(t,e,o){"use strict";cc._RF.push(e,"f7011omJ3RB+YM9DPqj0Rm6","LevelInfo");var n,c=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var c,r=arguments.length,i=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(c=t[s])&&(i=(r<3?c(i):r>3?c(e,o,i):c(e,o))||i);return r>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var i=t("./UIBase"),s=cc._decorator,a=s.ccclass,l=s.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.levelText=null,e.levelItem=null,e}return c(e,t),e.prototype.start=function(){},e.prototype.setLevelText=function(t){this.levelText.string="\u7b2c"+t+"\u5173"},e.prototype.setLevelItem=function(t,e){this.levelItem.string=t+"/"+e},r([l(cc.Label)],e.prototype,"levelText",void 0),r([l(cc.Label)],e.prototype,"levelItem",void 0),r([a],e)}(i.default);o.default=u,cc._RF.pop()},{"./UIBase":"UIBase"}],LevelSelect:[function(t,e,o){"use strict";cc._RF.push(e,"be9a5q4j4dBxbc5A5vLut17","LevelSelect");var n,c=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var c,r=arguments.length,i=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(c=t[s])&&(i=(r<3?c(i):r>3?c(e,o,i):c(e,o))||i);return r>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var i=t("./UIBase"),s=t("../../utils/Utils"),a=cc._decorator,l=a.ccclass,u=a.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.backStartBtn=null,e.levelRoot=null,e.levelItemPre=null,e.foods=[],e.levelsData=null,e.uiManager=null,e.levels=[],e.maxLevel=0,e}return c(e,t),e.prototype.onLoad=function(){t.prototype.onLoad.call(this),this.levels=this.levelsData.json||[]},e.prototype.start=function(){},e.prototype.show=function(){t.prototype.show.call(this),this.setLevels()},e.prototype.init=function(e){t.prototype.init.call(this),this.uiManager=e;var o=cc.Node.EventType,n=o.TOUCH_START,c=o.TOUCH_END;this.backStartBtn.on(n,this.backStartBtnTouchStart,this),this.backStartBtn.on(c,this.backStartBtnTouchEnd,this),this.node.getComponentInChildren(cc.ScrollView).getComponent(cc.Widget).target=this.uiManager.node},e.prototype.backStartBtnTouchStart=function(){s.default.clickDownBtnAction(this.backStartBtn)},e.prototype.backStartBtnTouchEnd=function(){var t=this;s.default.clickUpBtnAction(this.backStartBtn,function(){t.uiManager.toStartMenu()})},e.prototype.setLevels=function(){var t=this;this.levelRoot.removeAllChildren(),this.levels.forEach(function(e,o){t.setLevelItem(e,o)})},e.prototype.setLevelItem=function(t,e){var o=this,n=cc.instantiate(this.levelItemPre);n.setParent(this.levelRoot),n.children[0].children[0].getComponent(cc.Label).string=t.name,this.maxLevel=Number(cc.sys.localStorage.getItem("maxLevel")||"0"),n.children[1].getComponent(cc.Label).string=e>this.maxLevel?"\u672a\u89e3\u9501":"\u5df2\u89e3\u9501";var c=n.children[0].children[1];t.foods.forEach(function(t){var e=new cc.Node,n=e.addComponent(cc.Sprite);n.spriteFrame=o.foods[t];var r=n.spriteFrame.getOriginalSize();e.setContentSize(210,210*r.height/r.width),e.setParent(c)}),this.setLevelEvent(n,t,e)},e.prototype.setLevelEvent=function(t,e,o){var n=this,c=cc.Node.EventType,r=c.TOUCH_START,i=c.TOUCH_END,a=c.TOUCH_CANCEL,l=t.children[0];l.on(r,function(){s.default.clickDownBtnAction(l)},this),l.on(i,function(){s.default.clickUpBtnAction(l,function(){n.maxLevel>=o&&n.uiManager.gameStart(e,o)})},this),l.on(a,function(){s.default.clickUpBtnAction(l)},this)},e.prototype.onDestroy=function(){var t=cc.Node.EventType,e=t.TOUCH_START,o=t.TOUCH_END;this.backStartBtn.off(e,this.backStartBtnTouchStart,this),this.backStartBtn.off(o,this.backStartBtnTouchEnd,this)},r([u(cc.Node)],e.prototype,"backStartBtn",void 0),r([u(cc.Node)],e.prototype,"levelRoot",void 0),r([u(cc.Prefab)],e.prototype,"levelItemPre",void 0),r([u([cc.SpriteFrame])],e.prototype,"foods",void 0),r([u({type:cc.JsonAsset,displayName:"\u5173\u5361\u5217\u8868"})],e.prototype,"levelsData",void 0),r([l],e)}(i.default);o.default=p,cc._RF.pop()},{"../../utils/Utils":"Utils","./UIBase":"UIBase"}],Main:[function(t,e,o){"use strict";cc._RF.push(e,"3b260ufs+BPS7IqDUSIaSyq","Main");var n,c=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var c,r=arguments.length,i=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(c=t[s])&&(i=(r<3?c(i):r>3?c(e,o,i):c(e,o))||i);return r>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var i=t("../enum"),s=t("../MusicsManager"),a=t("../utils"),l=cc._decorator,u=l.ccclass,p=l.property,f=cc.Enum({TOP:300,BOTTOM:-500}),h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.turtle=null,e.gameOverNode=null,e.gameWinNode=null,e.turtleRoot=null,e.current=null,e.turtleList=[],e}return c(e,t),e.prototype.onLoad=function(){s.default.getInstance().playBgm(i.MusicResUrl.TurtlesBgm)},e.prototype.start=function(){this.restart()},e.prototype.createNewTurtle=function(){this.node.on(cc.Node.EventType.TOUCH_END,this.downTurtle,this);var t=cc.instantiate(this.turtle);t.parent=this.turtleRoot,t.x=0,t.y=f.TOP;var e=cc.repeatForever(cc.sequence(cc.scaleTo(1,0).easing(cc.easeIn(1.5)),cc.scaleTo(1,1).easing(cc.easeOut(1.5))));return t.runAction(e),this.turtleList.push(t),t},e.prototype.downTurtle=function(){var t=this;if(this.node.off(cc.Node.EventType.TOUCH_END,this.downTurtle,this),this.current.stopAllActions(),1===this.turtleList.length)this.current.runAction(cc.moveTo(.5,new cc.Vec2(0,f.BOTTOM)));else{var e=this.turtleList[this.turtleList.length-2],o=e.y+e.height*e.scaleY;this.current.runAction(cc.moveTo(.5,new cc.Vec2(0,o))),this.scheduleOnce(function(){t.current.scaleY>e.scaleY?t.gameOver():6!==t.turtleList.length||t.gameWin()},.5)}this.scheduleOnce(function(){t.gameOverNode.active||t.gameWinNode.active||(t.current=t.createNewTurtle())},1)},e.prototype.gameOver=function(){s.default.getInstance().playEffect(i.MusicResUrl.GameOver),this.gameOverNode.active=!0},e.prototype.gameWin=function(){s.default.getInstance().playEffect(i.MusicResUrl.Win),this.gameWinNode.active=!0},e.prototype.restart=function(){this.gameOverNode.active=!1,this.gameWinNode.active=!1,this.turtleRoot.removeAllChildren(),this.turtleList=[],this.current=this.createNewTurtle()},e.prototype.back=function(){this.gameOverNode.active=!1,this.gameWinNode.active=!1,a.Utils.backFun()},r([p(cc.Prefab)],e.prototype,"turtle",void 0),r([p(cc.Node)],e.prototype,"gameOverNode",void 0),r([p(cc.Node)],e.prototype,"gameWinNode",void 0),r([p(cc.Node)],e.prototype,"turtleRoot",void 0),r([u],e)}(cc.Component);o.default=h,cc._RF.pop()},{"../MusicsManager":"MusicsManager","../enum":"enum","../utils":"utils"}],MessageBase:[function(t,e,o){"use strict";cc._RF.push(e,"292f2BkQ9pLxZR5Z+9Zo9LT","MessageBase");var n,c=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=t("./ComponentBase"),i=t("./MessageCenter"),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ReceiverList=[],e}return c(e,t),e.prototype.onLoad=function(){this.ReceiverList=[],i.default.ManangerList.push(this)},e.prototype.Register=function(t){this.ReceiverList.push(t)},e.prototype.ReceiveMessage=function(t){t.Type===this.SelfMessageType&&this.ReceiverList&&this.ReceiverList.forEach(function(e){return e.ReceiveMessage(t)})},e}(r.default);o.default=s,cc._RF.pop()},{"./ComponentBase":"ComponentBase","./MessageCenter":"MessageCenter"}],MessageCenter:[function(t,e,o){"use strict";cc._RF.push(e,"05f2487k7xOHqd1bk9dVB1h","MessageCenter"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./Message"),c=function(){function t(){}return t.SendMessage=function(t){this.ManangerList.forEach(function(e){return e.ReceiveMessage(t)})},t.SendMsg=function(t,e,o){var c=new n.Message(t,e,o);this.SendMessage(c)},t.ManangerList=[],t}();o.default=c,cc._RF.pop()},{"./Message":"Message"}],Message:[function(t,e,o){"use strict";cc._RF.push(e,"eb67fb4JlFOrZwIo/bIdr3n","Message"),Object.defineProperty(o,"__esModule",{value:!0}),o.MessageType=o.Message=void 0;o.Message=function(t,e,o){this.Type=t,this.Command=e,this.Content=o};var n=function(){function t(){}return t.UI=1,t.NPC=2,t.ENEMY=3,t.Player=4,t.UI_HP=101,t.UI_SCORES=102,t.UI_GAMEOVER=103,t.NPC_NPC1=201,t.ENEMY_ENEMY1=301,t.Player_SCORES=401,t}();o.MessageType=n,cc._RF.pop()},{}],MusicsManager:[function(t,e,o){"use strict";cc._RF.push(e,"dd991kjmp9Koqf5stq6p/jJ","MusicsManager");var n=this&&this.__awaiter||function(t,e,o,n){return new(o||(o=Promise))(function(c,r){function i(t){try{a(n.next(t))}catch(e){r(e)}}function s(t){try{a(n.throw(t))}catch(e){r(e)}}function a(t){var e;t.done?c(t.value):(e=t.value,e instanceof o?e:new o(function(t){t(e)})).then(i,s)}a((n=n.apply(t,e||[])).next())})},c=this&&this.__generator||function(t,e){var o,n,c,r,i={label:0,sent:function(){if(1&c[0])throw c[1];return c[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(t){return function(e){return a([t,e])}}function a(r){if(o)throw new TypeError("Generator is already executing.");for(;i;)try{if(o=1,n&&(c=2&r[0]?n.return:r[0]?n.throw||((c=n.return)&&c.call(n),0):n.next)&&!(c=c.call(n,r[1])).done)return c;switch(n=0,c&&(r=[2&r[0],c.value]),r[0]){case 0:case 1:c=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,n=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(c=(c=i.trys).length>0&&c[c.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!c||r[1]>c[0]&&r[1]<c[3])){i.label=r[1];break}if(6===r[0]&&i.label<c[1]){i.label=c[1],c=r;break}if(c&&i.label<c[2]){i.label=c[2],i.ops.push(r);break}c[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(s){r=[6,s],n=0}finally{o=c=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0});var r=t("./enum"),i=t("./utils/Utils"),s=function(){function t(){this.bgmId=null,this.bgmName=null,this._isMute=!1,this._audioClipsMap=new Map}return t.getInstance=function(){return this.instance||(this.instance=new t),this.instance},Object.defineProperty(t.prototype,"isMute",{get:function(){var t=cc.sys.localStorage.getItem("mute");return this._isMute="true"===t,this._isMute},set:function(t){this._isMute=t,cc.sys.localStorage.setItem("mute",t.toString()),t&&this.stopAll()},enumerable:!1,configurable:!0}),t.prototype.playBgm=function(t){return void 0===t&&(t=r.MusicResUrl.Bgm),n(this,void 0,void 0,function(){var e;return c(this,function(o){switch(o.label){case 0:return this.bgmName=t,this.isMute?[2]:(e=this._audioClipsMap.get(t))?[3,2]:[4,i.default.loadMusic(t)];case 1:e=o.sent(),o.label=2;case 2:return e&&(this._audioClipsMap.set(t,e),this.bgmId=cc.audioEngine.playMusic(e,!0)),[2]}})})},t.prototype.playEffect=function(t){return n(this,void 0,void 0,function(){var e;return c(this,function(o){switch(o.label){case 0:return this.isMute?[2]:(e=this._audioClipsMap.get(t))?[3,2]:[4,i.default.loadMusic(t)];case 1:e=o.sent(),o.label=2;case 2:return e&&(this._audioClipsMap.set(t,e),cc.audioEngine.playEffect(e,!1)),[2]}})})},t.prototype.stopAll=function(){cc.audioEngine.pauseMusic()},t.prototype.resume=function(){null!==this.bgmId?cc.audioEngine.resumeMusic():this.bgmName&&this.playBgm(this.bgmName)},t.prototype.clear=function(){this.stopAll(),this.bgmId=null,this.bgmName=null,this._audioClipsMap.clear()},t}();o.default=s,cc._RF.pop()},{"./enum":"enum","./utils/Utils":"Utils"}],PhysicsManager:[function(t,e,o){"use strict";cc._RF.push(e,"1dc3bN18U1Co62W27/vLK4c","PhysicsManager"),Object.defineProperty(o,"__esModule",{value:!0}),o.PhysicsManager=void 0;var n=function(){function t(){}return t.openPhysics=function(){cc.director.getPhysicsManager().enabled=!0,cc.director.getCollisionManager().enabled=!0},t.closePhysics=function(){cc.director.getPhysicsManager().enabled=!1,cc.director.getCollisionManager().enabled=!1},t.setRigidBodyStatic=function(t){t.getComponent(cc.RigidBody).type=cc.RigidBodyType.Static},t.setRigidBodyDynamic=function(t){t.getComponent(cc.RigidBody).type=cc.RigidBodyType.Dynamic},t.setRigidBodyLV=function(t,e){t.getComponent(cc.RigidBody).linearVelocity=e},t}();o.PhysicsManager=n,cc._RF.pop()},{}],PipeControl:[function(t,e,o){"use strict";cc._RF.push(e,"da07ceVjQ1I3p9F+mug8zhf","PipeControl");var n,c=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var c,r=arguments.length,i=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(c=t[s])&&(i=(r<3?c(i):r>3?c(e,o,i):c(e,o))||i);return r>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,s=i.ccclass,a=i.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.speed=50,e.land=null,e.width=288,e.isGameOver=!1,e.miny=90,e.maxy=700,e}return c(e,t),e.prototype.onLoad=function(){var t=this,e=cc.winSize.height;this.miny=e/2-820+50,this.maxy=1044-e/2,this.node.children.forEach(function(e){e.y=t.getY()})},e.prototype.start=function(){var t=this;this.width=this.land.width,cc.director.on("gameOver",function(){t.isGameOver=!0}),cc.director.on("gameRestart",function(){t.node.children[0].x=0,t.node.children[1].x=720,t.isGameOver=!1})},e.prototype.update=function(t){var e=this;if(!this.isGameOver){var o=this;this.node.children.forEach(function(n){n.x-=e.speed*t,n.x<-o.width&&(n.x+=2*o.width,n.y=o.getY())})}},e.prototype.getY=function(){return Math.random()*(this.maxy-this.miny)+this.miny},r([a],e.prototype,"speed",void 0),r([a(cc.Node)],e.prototype,"land",void 0),r([s],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],PlayerControl:[function(t,e,o){"use strict";cc._RF.push(e,"f1e5ahTstNP07U7KCRxA8S0","PlayerControl");var n,c=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var c,r=arguments.length,i=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(c=t[s])&&(i=(r<3?c(i):r>3?c(e,o,i):c(e,o))||i);return r>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var i=t("../enum"),s=t("../MusicsManager"),a=cc._decorator,l=a.ccclass,u=a.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bulletPre=null,e.bulletPool=null,e}return c(e,t),e.prototype.onLoad=function(){this.bulletPool=new cc.NodePool("BulletsControl");for(var t=0;t<20;t++)this.bulletPool.put(cc.instantiate(this.bulletPre))},e.prototype.start=function(){var t=this;cc.director.on("gameRestart",function(){t.init()}),this.init()},e.prototype.onTouchMove=function(t){var e=t.getLocation(),o=t.target,n=o.parent.convertToNodeSpaceAR(e),c=cc.winSize,r=o.width/2-50,i=o.height/2-50;n.x<-c.width/2+r?n.x=-c.width/2+r:n.x>c.width/2-r&&(n.x=c.width/2-r),n.y<-c.height/2+i?n.y=-c.height/2+i:n.y>c.height/2-i&&(n.y=c.height/2-i),o.setPosition(n)},e.prototype.init=function(){var t=this;this.node.on(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove),cc.loader.loadRes("airplane/hero1",cc.SpriteFrame,function(e,o){t.node.getComponent(cc.Sprite).spriteFrame=o}),this.schedule(this.bulletCreateShedule,.5),cc.director.getCollisionManager().enabled=!0},e.prototype.bulletCreateShedule=function(){var t=null;this.bulletPool.size()>0?(t=this.bulletPool.get()).getComponent("BulletsControl").reuse(this.bulletPool):t=cc.instantiate(this.bulletPre),t.setParent(this.node.parent),t.x=this.node.x,t.y=this.node.y+60,s.default.getInstance().playEffect(i.MusicResUrl.AirplaneBullet)},e.prototype.die=function(){var t=this;s.default.getInstance().playEffect(i.MusicResUrl.AirplanePlayer),cc.director.emit("playerDie"),cc.loader.loadRes("airplane/hero1_die",cc.SpriteFrame,function(e,o){t.node.getComponent(cc.Sprite).spriteFrame=o}),cc.director.getCollisionManager().enabled=!1,this.unschedule(this.bulletCreateShedule),this.node.off(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove)},e.prototype.onCollisionEnter=function(t){1===t.tag&&this.die()},r([u(cc.Prefab)],e.prototype,"bulletPre",void 0),r([l],e)}(cc.Component);o.default=p,cc._RF.pop()},{"../MusicsManager":"MusicsManager","../enum":"enum"}],ScoresControl:[function(t,e,o){"use strict";cc._RF.push(e,"6682cPJJWxN0oRS/6XvdJVJ","ScoresControl");var n,c=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var c,r=arguments.length,i=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(c=t[s])&&(i=(r<3?c(i):r>3?c(e,o,i):c(e,o))||i);return r>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var i=t("../mitt/ComponentBase"),s=t("../mitt/Message"),a=t("./UIMananger"),l=cc._decorator.ccclass,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.scores=0,e}return c(e,t),e.prototype.ReceiveMessage=function(t){t.Command===s.MessageType.UI_SCORES&&("add"===t.Content.type?this.scores+=t.Content.value:this.scores=t.Content.value,this.getComponent(cc.Label).string="\u5206\u6570\uff1a"+this.scores)},e.prototype.onLoad=function(){a.default.Instance.Register(this)},r([l],e)}(i.default);o.default=u,cc._RF.pop()},{"../mitt/ComponentBase":"ComponentBase","../mitt/Message":"Message","./UIMananger":"UIMananger"}],StartMenu:[function(t,e,o){"use strict";cc._RF.push(e,"e44a3ZOJD5DT7FuvbwmRHuB","StartMenu");var n,c=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var c,r=arguments.length,i=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(c=t[s])&&(i=(r<3?c(i):r>3?c(e,o,i):c(e,o))||i);return r>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var i=t("../../utils/Utils"),s=t("./UIBase"),a=cc._decorator,l=a.ccclass,u=a.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.startBtn=null,e.levelSelectBtn=null,e.uiManager=null,e}return c(e,t),e.prototype.onLoad=function(){t.prototype.onLoad.call(this)},e.prototype.start=function(){},e.prototype.show=function(){t.prototype.show.call(this);var e=this.startBtn.children[0];e.stopAllActions(),e.angle=0,cc.tween(e).to(.5,{angle:10}).to(.5,{angle:0}).union().repeatForever().start()},e.prototype.init=function(t){this.uiManager=t,this.startBtn.on(cc.Node.EventType.TOUCH_START,this.startBtnTouchStart,this),this.startBtn.on(cc.Node.EventType.TOUCH_END,this.startBtnTouchEnd,this),this.levelSelectBtn.on(cc.Node.EventType.TOUCH_START,this.levelSelectBtnTouchStart,this),this.levelSelectBtn.on(cc.Node.EventType.TOUCH_END,this.levelSelectBtnTouchEnd,this)},e.prototype.startBtnTouchStart=function(){i.default.clickDownBtnAction(this.startBtn)},e.prototype.startBtnTouchEnd=function(){var t=this;i.default.clickUpBtnAction(this.startBtn,function(){t.uiManager.gameStart()})},e.prototype.levelSelectBtnTouchStart=function(){i.default.clickDownBtnAction(this.levelSelectBtn)},e.prototype.levelSelectBtnTouchEnd=function(){var t=this;i.default.clickUpBtnAction(this.levelSelectBtn,function(){t.uiManager.tolevelSelect()})},e.prototype.onDestroy=function(){this.startBtn.off(cc.Node.EventType.TOUCH_START,this.startBtnTouchStart,this),this.startBtn.off(cc.Node.EventType.TOUCH_END,this.startBtnTouchEnd,this),this.levelSelectBtn.off(cc.Node.EventType.TOUCH_START,this.levelSelectBtnTouchStart,this),this.levelSelectBtn.off(cc.Node.EventType.TOUCH_END,this.levelSelectBtnTouchEnd,this)},r([u(cc.Node)],e.prototype,"startBtn",void 0),r([u(cc.Node)],e.prototype,"levelSelectBtn",void 0),r([l],e)}(s.default);o.default=p,cc._RF.pop()},{"../../utils/Utils":"Utils","./UIBase":"UIBase"}],StaticInstance:[function(t,e,o){"use strict";cc._RF.push(e,"561ccyDsoFFGa3Lhi7dshe4","StaticInstance"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function t(){}return t.setGameManager=function(e){t.gameManager=e},t.setUIManager=function(e){t.uIManager=e},t}();o.default=n,cc._RF.pop()},{}],UIBase:[function(t,e,o){"use strict";cc._RF.push(e,"ea4db3TZU1L2KRELfP1Vmzg","UIBase");var n,c=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var c,r=arguments.length,i=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(c=t[s])&&(i=(r<3?c(i):r>3?c(e,o,i):c(e,o))||i);return r>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,s=i.ccclass,a=i.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isShow=!1,e}return c(e,t),e.prototype.onLoad=function(){this.isShow?this.show():this.hide()},e.prototype.start=function(){},e.prototype.show=function(){this.node.active=!0},e.prototype.hide=function(){this.node.active=!1},e.prototype.init=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},r([a({displayName:"\u521d\u59cb\u663e\u9690\u72b6\u6001"})],e.prototype,"isShow",void 0),r([s],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],UIManager:[function(t,e,o){"use strict";cc._RF.push(e,"f7aef9tKZBCpq+AHeHe9jJu","UIManager");var n,c=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var c,r=arguments.length,i=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(c=t[s])&&(i=(r<3?c(i):r>3?c(e,o,i):c(e,o))||i);return r>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var i=t("./type"),s=t("./ui/LevelSelect"),a=t("./StaticInstance"),l=t("./ui/StartMenu"),u=t("./ui/ControlPanel"),p=t("./ui/LevelInfo"),f=t("./ui/WinPanel"),h=t("./ui/GameOverPanel"),d=cc._decorator,y=d.ccclass,v=d.property,_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.startMenuPre=null,e.levelSelectPre=null,e.controlPanelPre=null,e.levelInfoPre=null,e.winPanelPre=null,e.gameOverPanelPre=null,e.uiMap=new Map,e}return c(e,t),e.prototype.onLoad=function(){a.default.setUIManager(this)},e.prototype.start=function(){this.initUI(i.UIType.StartMenu,this.startMenuPre,l.default),this.initUI(i.UIType.ControlPanel,this.controlPanelPre,u.default),this.initUI(i.UIType.LevelSelect,this.levelSelectPre,s.default),this.initUI(i.UIType.LevelInfo,this.levelInfoPre,p.default),this.initUI(i.UIType.WinPanel,this.winPanelPre,f.default),this.initUI(i.UIType.GameOverPanel,this.gameOverPanelPre,h.default)},e.prototype.gameStart=function(t,e){void 0===e&&(e=0),this.showUI([i.UIType.ControlPanel,i.UIType.LevelInfo]),a.default.gameManager.gameStart(t,e)},e.prototype.setLevelData=function(t,e){var o=this.uiMap.get(i.UIType.LevelInfo);o.setLevelText(t.name),o.setLevelItem(e,t.foods.length)},e.prototype.tolevelSelect=function(){this.showUI([i.UIType.LevelSelect])},e.prototype.toStartMenu=function(){var t=a.default.gameManager;t.hideBowl(),t.clearAllFoods(),this.showUI([i.UIType.StartMenu])},e.prototype.toWinPanel=function(){this.showUI([i.UIType.WinPanel])},e.prototype.toGameOverPanel=function(){this.showUI([i.UIType.GameOverPanel])},e.prototype.toNextLevel=function(){a.default.gameManager.toNextLevel()},e.prototype.toPlayAgainLevel=function(){a.default.gameManager.toPlayAgainLevel()},e.prototype.showUI=function(t){this.uiMap.forEach(function(e,o){t.includes(o)?e.show():e.hide()})},e.prototype.hideNextLevelBtn=function(){this.uiMap.get(i.UIType.WinPanel).hideNextLevelBtn()},e.prototype.initUI=function(t,e,o){var n=cc.instantiate(e);n.setParent(this.node);var c=n.getComponent(o);c.init(this),this.uiMap.set(t,c)},e.prototype.onRotateFood=function(t){a.default.gameManager.onRotateFood(t)},e.prototype.onLeftFood=function(t){a.default.gameManager.onLeftFood(t)},e.prototype.onRightFood=function(t){a.default.gameManager.onRightFood(t)},e.prototype.onDownFood=function(t){a.default.gameManager.onDownFood(t)},r([v(cc.Prefab)],e.prototype,"startMenuPre",void 0),r([v(cc.Prefab)],e.prototype,"levelSelectPre",void 0),r([v(cc.Prefab)],e.prototype,"controlPanelPre",void 0),r([v(cc.Prefab)],e.prototype,"levelInfoPre",void 0),r([v(cc.Prefab)],e.prototype,"winPanelPre",void 0),r([v(cc.Prefab)],e.prototype,"gameOverPanelPre",void 0),r([y],e)}(cc.Component);o.default=_,cc._RF.pop()},{"./StaticInstance":"StaticInstance","./type":"type","./ui/ControlPanel":"ControlPanel","./ui/GameOverPanel":"GameOverPanel","./ui/LevelInfo":"LevelInfo","./ui/LevelSelect":"LevelSelect","./ui/StartMenu":"StartMenu","./ui/WinPanel":"WinPanel"}],UIMananger:[function(t,e,o){"use strict";cc._RF.push(e,"3c275xmgzZKvY26rYDIOWiN","UIMananger");var n,c=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var c,r=arguments.length,i=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(c=t[s])&&(i=(r<3?c(i):r>3?c(e,o,i):c(e,o))||i);return r>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var i=t("../mitt/Message"),s=t("../mitt/MessageBase"),a=cc._decorator,l=a.ccclass,u=(a.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.SelfMessageType=i.MessageType.UI,e}var o;return c(e,t),o=e,e.prototype.onLoad=function(){var e=this;if(t.prototype.onLoad.call(this),o.Instance=this,cc.view.setOrientation(cc.macro.ORIENTATION_LANDSCAPE),"undefined"!=typeof jsb&&cc.sys.os===cc.sys.OS_ANDROID)try{jsb.reflection&&jsb.reflection.callStaticMethod&&jsb.reflection.callStaticMethod("org/cocos2dx/lib/Cocos2dxActivity","setScreenOrientation","(I)V",0)}catch(n){cc.log("Failed to set screen orientation via native call:",n),cc.log("Using default Cocos orientation setting")}cc.sys.os===cc.sys.OS_WINDOWS&&(window.location.hash="?orientation=landscape",window.parent.postMessage({type:"orientation",data:0,timestamp:Date.now()})),cc.view.on("orientation-change",function(){cc.log("orientation-change"),e.node.width=cc.winSize.width,e.node.height=cc.winSize.height})},o=r([l],e)}(s.default));o.default=u,cc._RF.pop()},{"../mitt/Message":"Message","../mitt/MessageBase":"MessageBase"}],Utils:[function(t,e,o){"use strict";cc._RF.push(e,"eda144ISAZBc4FuoHsDPumG","Utils"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../MusicsManager"),c=t("../enum"),r=function(){function t(){}return t.clickDownBtnAction=function(t,e){n.default.getInstance().playEffect(c.MusicResUrl.Clck),cc.tween(t).to(.1,{scale:.9}).call(function(){return e&&e()}).start()},t.clickUpBtnAction=function(t,e){cc.tween(t).to(.1,{scale:1}).call(function(){return e&&e()}).start()},t.loadMusic=function(t){return new Promise(function(e){cc.loader.loadRes(t,cc.AudioClip,function(t,o){e(t?null:o)})})},t}();o.default=r,cc._RF.pop()},{"../MusicsManager":"MusicsManager","../enum":"enum"}],WinPanel:[function(t,e,o){"use strict";cc._RF.push(e,"c7b7dY+AtlM0IhAyX9obZum","WinPanel");var n,c=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var c,r=arguments.length,i=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(c=t[s])&&(i=(r<3?c(i):r>3?c(e,o,i):c(e,o))||i);return r>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var i=t("../../utils/Utils"),s=t("./UIBase"),a=cc._decorator,l=a.ccclass,u=a.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.backStartMenuBtn=null,e.nextLevelBtn=null,e.uiManager=null,e}return c(e,t),e.prototype.start=function(){},e.prototype.init=function(e){var o=this;t.prototype.init.call(this),this.uiManager=e,this.node.children[0].getComponent(cc.Widget).target=e.node;var n=cc.Node.EventType,c=n.TOUCH_START,r=n.TOUCH_END,s=n.TOUCH_CANCEL;this.backStartMenuBtn.on(c,this.backStartMenuBtnTouchStart,this),this.backStartMenuBtn.on(r,this.backStartMenuBtnTouchEnd,this),this.backStartMenuBtn.on(r,function(){return i.default.clickUpBtnAction(o.backStartMenuBtn)},this),this.nextLevelBtn.on(c,this.nextLevelBtnTouchStart,this),this.nextLevelBtn.on(r,this.nextLevelBtnTouchEnd,this),this.nextLevelBtn.on(s,function(){return i.default.clickUpBtnAction(o.nextLevelBtn)},this)},e.prototype.backStartMenuBtnTouchStart=function(){i.default.clickDownBtnAction(this.backStartMenuBtn)},e.prototype.backStartMenuBtnTouchEnd=function(){var t=this;i.default.clickUpBtnAction(this.backStartMenuBtn,function(){t.uiManager.toStartMenu()})},e.prototype.nextLevelBtnTouchStart=function(){i.default.clickDownBtnAction(this.nextLevelBtn)},e.prototype.nextLevelBtnTouchEnd=function(){var t=this;i.default.clickUpBtnAction(this.nextLevelBtn,function(){t.uiManager.toNextLevel()})},e.prototype.hideNextLevelBtn=function(){this.nextLevelBtn.active=!1},r([u(cc.Node)],e.prototype,"backStartMenuBtn",void 0),r([u(cc.Node)],e.prototype,"nextLevelBtn",void 0),r([l],e)}(s.default);o.default=p,cc._RF.pop()},{"../../utils/Utils":"Utils","./UIBase":"UIBase"}],bossMain:[function(t,e,o){"use strict";cc._RF.push(e,"fc0d4Y1zjtHlLH6xUZaYIdR","bossMain");var n,c=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var c,r=arguments.length,i=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(c=t[s])&&(i=(r<3?c(i):r>3?c(e,o,i):c(e,o))||i);return r>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var i=t("../enum"),s=t("../MusicsManager"),a=cc._decorator,l=a.ccclass,u=a.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.label=void 0,e.time=3.99,e}return c(e,t),e.prototype.onLoad=function(){s.default.getInstance().bgmId&&s.default.getInstance().resume()},e.prototype.start=function(){this.scheduleOnce(function(){s.default.getInstance().playBgm(i.MusicResUrl.BossBgm)},.5)},e.prototype.update=function(t){if(!(this.time<-1)){this.time-=t;var e=Math.floor(this.time);this.label.string=e>0?e+"":0===e?"Go!":""}},r([u(cc.Label)],e.prototype,"label",void 0),r([l],e)}(cc.Component);o.default=p,cc._RF.pop()},{"../MusicsManager":"MusicsManager","../enum":"enum"}],boss:[function(t,e,o){"use strict";cc._RF.push(e,"eb266m7vHZHca4WsomuYs8v","boss");var n,c=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var c,r=arguments.length,i=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(c=t[s])&&(i=(r<3?c(i):r>3?c(e,o,i):c(e,o))||i);return r>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var i=t("../utils"),s=t("./bulletFactory"),a=cc._decorator,l=a.ccclass,u=a.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bulletFactory=null,e.dir=new cc.Vec2(0,0),e.speed=200,e.typeMBulletAngle=0,e}return c(e,t),e.prototype.start=function(){this.schedule(this.randomDir,5,cc.macro.REPEAT_FOREVER,4),this.initBullets()},e.prototype.initBullets=function(){var t=this;this.schedule(function(){return t.shoot(s.BulletType.R)},.02,cc.macro.REPEAT_FOREVER,4),this.schedule(function(){return t.shoot(s.BulletType.M)},.06,cc.macro.REPEAT_FOREVER,9),this.schedule(function(){return t.shoot(s.BulletType.F)},.4,cc.macro.REPEAT_FOREVER,14),this.schedule(function(){return t.shoot(s.BulletType.B)},.5,cc.macro.REPEAT_FOREVER,24)},e.prototype.shoot=function(t){if(t===s.BulletType.R)this.bulletFactory.createBullet(s.BulletType.R,i.Utils.randomDir(0,360),800,this.node.x,this.node.y);else if(t===s.BulletType.M){this.typeMBulletAngle+=30,this.typeMBulletAngle>=360&&(this.typeMBulletAngle=0);var e=cc.misc.degreesToRadians(this.typeMBulletAngle);this.bulletFactory.createBullet(s.BulletType.M,cc.v2(Math.cos(e),Math.sin(e)),650,this.node.x,this.node.y).angle=this.typeMBulletAngle+90}else if(t===s.BulletType.F)for(var o=0;o<=360;o+=30)e=cc.misc.degreesToRadians(o),this.bulletFactory.createBullet(s.BulletType.F,cc.v2(Math.cos(e),Math.sin(e)),600,this.node.x,this.node.y);else t===s.BulletType.B&&this.bulletFactory.createBullet(s.BulletType.B,cc.v2(0,-1),550,this.node.x,this.node.y)},e.prototype.randomDir=function(){var t=i.Utils.randomDir(0,360);this.dir.x=t.x,this.dir.y=t.y},e.prototype.update=function(t){0!==this.dir.x&&(this.node.x+=this.dir.x*this.speed*t),0!==this.dir.y&&(this.node.y+=this.speed*this.dir.y*t),this.node.x<-300&&(this.dir.x=this.dir.x>0?this.dir.x:-this.dir.x),this.node.x>300&&(this.dir.x=this.dir.x<0?this.dir.x:-this.dir.x),this.node.y>580&&(this.dir.y=this.dir.y<0?this.dir.y:-this.dir.y),this.node.y<400&&(this.dir.y=this.dir.y>0?this.dir.y:-this.dir.y)},r([u(s.default)],e.prototype,"bulletFactory",void 0),r([l],e)}(cc.Component);o.default=p,cc._RF.pop()},{"../utils":"utils","./bulletFactory":"bulletFactory"}],"bullet-mgr":[function(t,e,o){"use strict";cc._RF.push(e,"67f26z8TyZC7Z3JMtT58Pai","bullet-mgr");var n,c=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var c,r=arguments.length,i=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(c=t[s])&&(i=(r<3?c(i):r>3?c(e,o,i):c(e,o))||i);return r>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,s=i.ccclass,a=i.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bullet=null,e.player=null,e.pool=new cc.NodePool,e}return c(e,t),e.prototype.onLoad=function(){cc.director.getCollisionManager().enabled=!0,this.initPool()},e.prototype.initPool=function(){this.pool||(this.pool=new cc.NodePool);for(var t=0;t<100;t++)this.pool.put(cc.instantiate(this.bullet))},e.prototype.start=function(){this.schedule(this.createBullets,.4)},e.prototype.createBullets=function(){var t=this.player.x,e=this.player.y+80;this.createOneBullet(t,e),this.createOneBullet(t+45,e),this.createOneBullet(t-45,e)},e.prototype.createOneBullet=function(t,e){var o=this.pool.get();o||(o=cc.instantiate(this.bullet)).getComponent("bullet").reuse(this.pool),o.parent=this.node,o.x=t,o.y=e},r([a(cc.Prefab)],e.prototype,"bullet",void 0),r([a(cc.Node)],e.prototype,"player",void 0),r([s],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],bulletBase:[function(t,e,o){"use strict";cc._RF.push(e,"8b664A8EwJFA6ppJN0sLDYJ","bulletBase");var n,c=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var c,r=arguments.length,i=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(c=t[s])&&(i=(r<3?c(i):r>3?c(e,o,i):c(e,o))||i);return r>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,s=i.ccclass,a=(i.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._moveDir=new cc.Vec2(0,0),e._moveSpeed=0,e.tag=void 0,e.bulletFactory=void 0,e}return c(e,t),Object.defineProperty(e.prototype,"moveDir",{get:function(){return this._moveDir},set:function(t){this._moveDir.x=t.x,this._moveDir.y=t.y},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"moveSpeed",{get:function(){return this._moveSpeed},set:function(t){t<0||(this._moveSpeed=t)},enumerable:!1,configurable:!0}),e.prototype.reuse=function(t,e,o,n){this.bulletFactory=t,this.tag=n,this.moveDir=e,this.moveSpeed=o},e.prototype.start=function(){},e.prototype.update=function(t){0!==this.moveSpeed&&(0!==this.moveDir.x&&(this.node.x+=this.moveDir.x*this.moveSpeed*t),0!==this.moveDir.y&&(this.node.y+=this.moveDir.y*this.moveSpeed*t),(Math.abs(this.node.x)>360||Math.abs(this.node.y)>640)&&this.bulletFactory.bulletPools[this.tag].put(this.node))},r([s],e)}(cc.Component));o.default=a,cc._RF.pop()},{}],bulletFactory:[function(t,e,o){"use strict";cc._RF.push(e,"57465EterxGhqFw/47HureX","bulletFactory");var n,c=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var c,r=arguments.length,i=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(c=t[s])&&(i=(r<3?c(i):r>3?c(e,o,i):c(e,o))||i);return r>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0}),o.BulletType=void 0;var i,s=t("./bullet_0"),a=t("./bullet_1"),l=t("./bullet_2"),u=t("./bullet_3"),p=cc._decorator,f=p.ccclass,h=p.property;(function(t){t[t.R=0]="R",t[t.M=1]="M",t[t.F=2]="F",t[t.B=3]="B"})(i=o.BulletType||(o.BulletType={}));var d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bulletPrefab=[],e.bulletPools=[],e}return c(e,t),e.prototype.onLoad=function(){this.bulletPools[i.R]=new cc.NodePool(s.default),this.bulletPools[i.M]=new cc.NodePool(a.default),this.bulletPools[i.F]=new cc.NodePool(l.default),this.bulletPools[i.B]=new cc.NodePool(u.default),this.putBulletInPool(i.R,300),this.putBulletInPool(i.M,200),this.putBulletInPool(i.F,100),this.putBulletInPool(i.B,50)},e.prototype.putBulletInPool=function(t,e){for(var o=0;o<e;o++)this.bulletPools[t].put(cc.instantiate(this.bulletPrefab[t]))},e.prototype.createBullet=function(t,e,o,n,c){var r=void 0;return this.bulletPools[t].size()<=0&&this.bulletPools[t].put(cc.instantiate(this.bulletPrefab[t])),r=this.bulletPools[t].get(this,e,o,t),this.node.addChild(r),r.setPosition(n,c),r},e.prototype.start=function(){},r([h({type:[cc.Prefab],tooltip:"\u5b50\u5f39\u9884\u5236\u4f53"})],e.prototype,"bulletPrefab",void 0),r([f],e)}(cc.Component);o.default=d,cc._RF.pop()},{"./bullet_0":"bullet_0","./bullet_1":"bullet_1","./bullet_2":"bullet_2","./bullet_3":"bullet_3"}],bullet_0:[function(t,e,o){"use strict";cc._RF.push(e,"252066MeW1JVoSN+uFlwW0L","bullet_0");var n,c=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var c,r=arguments.length,i=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(c=t[s])&&(i=(r<3?c(i):r>3?c(e,o,i):c(e,o))||i);return r>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var i=t("./bulletBase"),s=cc._decorator,a=s.ccclass,l=(s.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return c(e,t),r([a],e)}(i.default));o.default=l,cc._RF.pop()},{"./bulletBase":"bulletBase"}],bullet_1:[function(t,e,o){"use strict";cc._RF.push(e,"838f9IDXOlLv6tdmLo2U/DO","bullet_1");var n,c=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var c,r=arguments.length,i=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(c=t[s])&&(i=(r<3?c(i):r>3?c(e,o,i):c(e,o))||i);return r>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var i=t("./bulletBase"),s=cc._decorator,a=s.ccclass,l=(s.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return c(e,t),r([a],e)}(i.default));o.default=l,cc._RF.pop()},{"./bulletBase":"bulletBase"}],bullet_2:[function(t,e,o){"use strict";cc._RF.push(e,"5656fyxB0tFpLXA7LadBCRK","bullet_2");var n,c=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var c,r=arguments.length,i=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(c=t[s])&&(i=(r<3?c(i):r>3?c(e,o,i):c(e,o))||i);return r>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var i=t("./bulletBase"),s=cc._decorator,a=s.ccclass,l=(s.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return c(e,t),e.prototype.update=function(e){t.prototype.update.call(this,e),this.node.angle+=50*e},r([a],e)}(i.default));o.default=l,cc._RF.pop()},{"./bulletBase":"bulletBase"}],bullet_3:[function(t,e,o){"use strict";cc._RF.push(e,"b9eceVxE11J572tGBKbXsFE","bullet_3");var n,c=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var c,r=arguments.length,i=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(c=t[s])&&(i=(r<3?c(i):r>3?c(e,o,i):c(e,o))||i);return r>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var i=t("./bulletBase"),s=cc._decorator,a=s.ccclass,l=(s.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.scaleDir=1,e}return c(e,t),e.prototype.update=function(e){t.prototype.update.call(this,e),this.node.scaleX>1.3?this.scaleDir=-1:this.node.scaleX<1&&(this.scaleDir=1),this.node.scale+=5*this.scaleDir*e},r([a],e)}(i.default));o.default=l,cc._RF.pop()},{"./bulletBase":"bulletBase"}],bullet:[function(t,e,o){"use strict";cc._RF.push(e,"1ea5ay6lWxOYr9b1cuD3htP","bullet");var n,c=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var c,r=arguments.length,i=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(c=t[s])&&(i=(r<3?c(i):r>3?c(e,o,i):c(e,o))||i);return r>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var i=t("../enum"),s=t("../MusicsManager"),a=cc._decorator,l=a.ccclass,u=a.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.speed=800,e.pool=null,e}return c(e,t),e.prototype.reuse=function(t){this.pool=t,this.node.active=!0},e.prototype.start=function(){},e.prototype.onCollisionEnter=function(){this.returnToPool(),s.default.getInstance().playEffect(i.MusicResUrl.AirplaneBullet)},e.prototype.update=function(t){this.node.y+=this.speed*t,this.node.y>800&&this.returnToPool()},e.prototype.returnToPool=function(){this.pool&&(this.pool.put(this.node),this.node.active=!1)},r([u],e.prototype,"speed",void 0),r([l],e)}(cc.Component);o.default=p,cc._RF.pop()},{"../MusicsManager":"MusicsManager","../enum":"enum"}],"camera-bk":[function(t,e,o){"use strict";cc._RF.push(e,"23610R9BJVFQ7eXfu+ST5Zp","camera-bk");var n,c=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var c,r=arguments.length,i=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(c=t[s])&&(i=(r<3?c(i):r>3?c(e,o,i):c(e,o))||i);return r>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,s=i.ccclass,a=(i.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bgHeight=1440,e}return c(e,t),e.prototype.update=function(t){this.node.y+=100*t,this.node.y>=3*this.bgHeight/2&&(this.node.y=this.bgHeight/2)},r([s],e)}(cc.Component));o.default=a,cc._RF.pop()},{}],"enemy-mgr":[function(t,e,o){"use strict";cc._RF.push(e,"c7b66NFLQBClqd6EefkRSWC","enemy-mgr");var n,c=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var c,r=arguments.length,i=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(c=t[s])&&(i=(r<3?c(i):r>3?c(e,o,i):c(e,o))||i);return r>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,s=i.ccclass,a=i.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.enemy=null,e}return c(e,t),e.prototype.start=function(){this.createEnemys(),this.schedule(this.createEnemys,4)},e.prototype.createEnemys=function(){var t=cc.instantiate(this.enemy);t.parent=this.node,t.x=Math.random()*this.node.parent.width-this.node.parent.width/2,t.y=750},r([a(cc.Prefab)],e.prototype,"enemy",void 0),r([s],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],enemy:[function(t,e,o){"use strict";cc._RF.push(e,"00f65m+dYNDrIWVrNn69u15","enemy");var n,c=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var c,r=arguments.length,i=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(c=t[s])&&(i=(r<3?c(i):r>3?c(e,o,i):c(e,o))||i);return r>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,s=i.ccclass,a=i.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.hpLabel=null,e.hp=40,e.dir=1,e.speed_x=50,e.speed_y=20,e}return c(e,t),e.prototype.onLoad=function(){this.dir=Math.random()>.5?1:-1,this.speed_x=50+Math.floor(120*Math.random()),this.speed_y=20+Math.floor(50*Math.random()),this.hp=40+Math.floor(100*Math.random())},e.prototype.start=function(){this.hpLabel.string=this.hp+""},e.prototype.onCollisionEnter=function(){this.hp-=1,this.hp<=0&&this.node.destroy(),this.hpLabel.string=this.hp+""},e.prototype.update=function(t){this.node.x+=this.speed_x*this.dir*t,this.node.x>cc.winSize.width?this.dir=-1:this.node.x<-cc.winSize.width&&(this.dir=1),this.node.y-=this.speed_y*t,this.node.y<-800&&(this.node.y=800)},r([a(cc.Label)],e.prototype,"hpLabel",void 0),r([s],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],enum:[function(t,e,o){"use strict";cc._RF.push(e,"13b9aE8u2pEP4UZgtzLQCmj","enum"),Object.defineProperty(o,"__esModule",{value:!0}),o.MusicResUrl=o.SceneEnum=void 0,function(t){t.Main="main",t.BlocksLogin="blocks-login",t.BlocksMain="blocks-main",t.Bowl="bowl"}(o.SceneEnum||(o.SceneEnum={})),function(t){t.Bgm="bowl/sound/musicBgm",t.BlocksBgm="blocks/bgMain",t.BlocksOver="blocks/over",t.BlocksCombo1="blocks/Combo1",t.BlocksCombo2="blocks/Combo2",t.BlocksCombo3="blocks/Combo3",t.BlocksCombo4="blocks/Combo4",t.BlocksCombo5="blocks/Combo5",t.BlocksCombo6="blocks/Combo6",t.BlocksHit="blocks/hit",t.DuckFly="hitbird/quak2",t.DuckDie="hitbird/die",t.AirplaneBgm="airplane/sound/game_music",t.AirplaneEnemy="airplane/sound/enemy1_down",t.AirplaneBullet="airplane/sound/bullet",t.AirplanePlayer="airplane/sound/me_down",t.BirdFly="bird/flap",t.BirdScore="bird/score",t.BirdHit="bird/pipe_hit",t.BirdOver="bird/ouch",t.TurtlesBgm="turtles/bgm",t.BossBgm="boss/bgm",t.GameOver="bowl/sound/musicLoss",t.Win="bowl/sound/musicWin",t.Clck="bowl/sound/musicClick"}(o.MusicResUrl||(o.MusicResUrl={})),cc._RF.pop()},{}],header:[function(t,e,o){"use strict";cc._RF.push(e,"f9a73hLK1tN9KtEjh8MO6Nc","header");var n,c=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var c,r=arguments.length,i=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(c=t[s])&&(i=(r<3?c(i):r>3?c(e,o,i):c(e,o))||i);return r>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var i=t("./enum"),s=t("./MusicsManager"),a=t("./utils"),l=cc._decorator,u=l.ccclass,p=l.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.backScene=i.SceneEnum.Main,e.back=null,e.musicOpen=null,e.musicClose=null,e}return c(e,t),e.prototype.start=function(){"true"===cc.sys.localStorage.getItem("mute")?(this.musicOpen.active=!1,this.musicClose.active=!0):(this.musicOpen.active=!0,this.musicClose.active=!1)},e.prototype.onMusicCloseClick=function(){s.default.getInstance().isMute=!1,s.default.getInstance().resume(),this.musicClose.active=!1,this.musicOpen.active=!0},e.prototype.onMusicOpenClick=function(){s.default.getInstance().isMute=!0,s.default.getInstance().stopAll(),this.musicOpen.active=!1,this.musicClose.active=!0},e.prototype.onBackClick=function(){a.Utils.backFun(this.backScene)},r([p({tooltip:"\u8fd4\u56de\u573a\u666f"})],e.prototype,"backScene",void 0),r([p(cc.Node)],e.prototype,"musicOpen",void 0),r([p(cc.Node)],e.prototype,"musicClose",void 0),r([u],e)}(cc.Component);o.default=f,cc._RF.pop()},{"./MusicsManager":"MusicsManager","./enum":"enum","./utils":"utils"}],main:[function(t,e,o){"use strict";cc._RF.push(e,"b22baoUpcFP6qTLtr1rUu8Z","main");var n,c=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var c,r=arguments.length,i=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(c=t[s])&&(i=(r<3?c(i):r>3?c(e,o,i):c(e,o))||i);return r>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var i=t("./MusicsManager"),s=cc._decorator,a=s.ccclass,l=s.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.dataJson=null,e.content=null,e.data=[],e}return c(e,t),e.prototype.onLoad=function(){if(cc.sys.os===cc.sys.OS_WINDOWS&&(window.location.hash="?orientation=",window.parent.postMessage({type:"orientation",data:1,timestamp:Date.now()}),cc.director.on(cc.Director.EVENT_BEFORE_SCENE_LOADING,function(t){window.parent.postMessage({type:"changeScene",data:t,timestamp:Date.now()})})),i.default.getInstance().clear(),cc.view.setOrientation(cc.macro.ORIENTATION_PORTRAIT),"undefined"!=typeof jsb&&cc.sys.os===cc.sys.OS_ANDROID)try{jsb.reflection.callStaticMethod("org/cocos2dx/javascript/AppActivity","setScreenOrientation","(I)V",1)}catch(t){cc.log("Orientation  API not available")}this.data=this.dataJson.json||[]},e.prototype.start=function(){var t=this;this.data.forEach(function(e){var o=new cc.Node,n=o.addComponent(cc.Sprite),c=e.logo;cc.loader.loadRes(c,cc.SpriteFrame,function(t,e){e&&(n.spriteFrame=e)}),o.on(cc.Node.EventType.TOUCH_END,function(){cc.director.loadScene(e.value)}),t.content.addChild(o)})},r([l(cc.JsonAsset)],e.prototype,"dataJson",void 0),r([l(cc.Node)],e.prototype,"content",void 0),r([a],e)}(cc.Component);o.default=u,cc._RF.pop()},{"./MusicsManager":"MusicsManager"}],over:[function(t,e,o){"use strict";cc._RF.push(e,"95511lcUftMkKTXO1QDVzq7","over");var n,c=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var c,r=arguments.length,i=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(c=t[s])&&(i=(r<3?c(i):r>3?c(e,o,i):c(e,o))||i);return r>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,s=i.ccclass,a=(i.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return c(e,t),e.prototype.start=function(){},e.prototype.gameAgain=function(){cc.director.loadScene("boss")},r([s],e)}(cc.Component));o.default=a,cc._RF.pop()},{}],player:[function(t,e,o){"use strict";cc._RF.push(e,"41d45EVVXpHHYLk2l4Njkwf","player");var n,c=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var c,r=arguments.length,i=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(c=t[s])&&(i=(r<3?c(i):r>3?c(e,o,i):c(e,o))||i);return r>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var i=t("../MusicsManager"),s=cc._decorator,a=s.ccclass,l=(s.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return c(e,t),e.prototype.onLoad=function(){cc.director.getCollisionManager().enabled=!0},e.prototype.onCollisionEnter=function(){i.default.getInstance().stopAll(),cc.director.loadScene("bossOver")},e.prototype.start=function(){this.openTouch()},e.prototype.openTouch=function(){this.node.on(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove,this)},e.prototype.onTouchMove=function(t){var e=t.getDelta();this.node.x+=e.x,this.node.y+=e.y},e.prototype.update=function(){this.node.x>360&&(this.node.x=360),this.node.x<-360&&(this.node.x=-360),this.node.y>640&&(this.node.y=640),this.node.y<-640&&(this.node.y=-640)},r([a],e)}(cc.Component));o.default=l,cc._RF.pop()},{"../MusicsManager":"MusicsManager"}],"touch-move":[function(t,e,o){"use strict";cc._RF.push(e,"c0df2WeD/ZAUoQCWFlYrL5n","touch-move");var n,c=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var c,r=arguments.length,i=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,o,n);else for(var s=t.length-1;s>=0;s--)(c=t[s])&&(i=(r<3?c(i):r>3?c(e,o,i):c(e,o))||i);return r>3&&i&&Object.defineProperty(e,o,i),i};Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,s=i.ccclass,a=i.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.player=null,e}return c(e,t),e.prototype.start=function(){var t=this;this.node.on("touchmove",function(e){var o=e.getDelta();t.player.x+=o.x,t.player.y+=o.y;var n=cc.winSize,c=t.player.width/2-70,r=t.player.height/2-70;t.player.x>n.width/2-c?t.player.x=n.width/2-c:t.player.x<-n.width/2+c&&(t.player.x=-n.width/2+c),t.player.y>n.height/2-r?t.player.y=n.height/2-r:t.player.y<-n.height/2+r&&(t.player.y=-n.height/2+r)},this)},e.prototype.update=function(){},r([a(cc.Node)],e.prototype,"player",void 0),r([s],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],type:[function(t,e,o){"use strict";cc._RF.push(e,"7b72eujv3NK3LO5xeGBQ2gY","type"),Object.defineProperty(o,"__esModule",{value:!0}),o.GameState=o.FoodType=o.UIType=void 0,function(t){t[t.StartMenu=0]="StartMenu",t[t.LevelSelect=1]="LevelSelect",t[t.ControlPanel=2]="ControlPanel",t[t.LevelInfo=3]="LevelInfo",t[t.WinPanel=4]="WinPanel",t[t.GameOverPanel=5]="GameOverPanel"}(o.UIType||(o.UIType={})),function(t){t[t["\u9e21\u7fc5"]=0]="\u9e21\u7fc5",t[t["\u714e\u86cb"]=1]="\u714e\u86cb",t[t["\u51b0\u6dc7\u6dcb"]=2]="\u51b0\u6dc7\u6dcb",t[t["\u5bff\u53f8"]=3]="\u5bff\u53f8",t[t["\u85af\u6761"]=4]="\u85af\u6761",t[t["\u6c49\u5821"]=5]="\u6c49\u5821"}(o.FoodType||(o.FoodType={})),function(t){t[t.Redy=0]="Redy",t[t.Start=1]="Start",t[t.Playing=2]="Playing",t[t.Pause=3]="Pause",t[t.GameOver=4]="GameOver",t[t.Win=5]="Win"}(o.GameState||(o.GameState={})),cc._RF.pop()},{}],use_reversed_rotateBy:[function(t,e){"use strict";cc._RF.push(e,"25a8e0bb/xO7pwMleHX8FHu","use_reversed_rotateBy"),cc.RotateBy._reverse=!0,cc._RF.pop()},{}],utils:[function(t,e,o){"use strict";cc._RF.push(e,"cc550KmDHlOg7aFwwunBfiZ","utils"),Object.defineProperty(o,"__esModule",{value:!0}),o.Utils=void 0;var n=t("./enum"),c=t("./MusicsManager"),r=function(){function t(){}return t.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.isDebug&&console.log.apply(console,t)},t.randomNum=function(t,e){return Math.random()*(e-t)+t},t.randomDir=function(t,e){var o=this.randomNum(t,e),n=cc.misc.degreesToRadians(o);return cc.v2(Math.cos(n),Math.sin(n))},t.backFun=function(t){void 0===t&&(t=n.SceneEnum.Main),t===n.SceneEnum.Main&&(c.default.getInstance().stopAll(),c.default.getInstance().clear()),cc.director.loadScene(t)},t.isDebug=!0,t}();o.Utils=r,cc._RF.pop()},{"./MusicsManager":"MusicsManager","./enum":"enum"}]},{},["use_reversed_rotateBy","FSMMananger","FSMState","Input","MusicsManager","BgControl","BulletsControl","EnemyControl","EnemyManager","PlayerControl","BgControl1","BirdControl","PipeControl","BlocksLogin","BlocksMain","BlocksMgr","boss","bossMain","bulletBase","bulletFactory","bullet_0","bullet_1","bullet_2","bullet_3","over","player","GameManager","PhysicsManager","StaticInstance","UIManager","type","ControlPanel","GameOverPanel","LevelInfo","LevelSelect","StartMenu","UIBase","WinPanel","enum","header","DuckControl","DuckMananger","ScoresControl","UIMananger","DieState","FlyState","main","bullet-mgr","bullet","camera-bk","enemy-mgr","enemy","touch-move","ComponentBase","Message","MessageBase","MessageCenter","Main","utils","Utils"]);