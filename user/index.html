<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <title>pc h5响应式</title>
</head>

<body>
  <div id="game-wrap" style="width: 100%;height: 100%;margin: 0 auto;">
    <canvas id="GameCanvas" oncontextmenu="event.preventDefault()" tabindex="0"></canvas>
    <div id="splash">
      <div class="progress-bar stripes">
        <span style="width: 0%"></span>
      </div>
    </div>
  </div>

  <style>
    #Cocos2dGameContainer {
      position: unset;
    }
  </style>

  <script type="text/javascript">
    var wrap = document.getElementById('game-wrap');
    function resize() {
      if (window.innerHeight < window.innerWidth) {
        var ratio = 720 / 1280;
        var scale = Math.min(window.innerWidth / 720, window.innerHeight / 1280, 1);
        wrap.style.width = window.innerHeight * ratio + 'px';
      }
    }

    resize()
    // 监听浏览器地址栏的参数
    function handleUrlParams() {
      var urlParams = new URLSearchParams(window.location.hash.slice(1));
      // 在这里处理参数变化
      var paramValue = urlParams.get('orientation');

      if (paramValue === 'landscape') {
        wrap.style.width = window.innerWidth + 'px';
      } else {
        resize()
      }
      window.dispatchEvent(new Event('resize'));
    }

    // 监听浏览器地址栏参数变化
    window.addEventListener('hashchange', function (event) {
      handleUrlParams();
    });
  </script>
</body>

</html>